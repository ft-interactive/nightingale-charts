require=function t(e,n,i){function r(s,o){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){function i(){function t(){return["right","left"].indexOf(n.axes[0].orient())>-1}function e(e){var i=t()?-n.axes[0].tickSize():0;e=e.append("g").attr("transform","translate("+(n.xOffset+i)+","+n.yOffset+")"),e.append("g").attr("class",t()?"y axis axis--independent":"x axis axis--independent").each(function(){var t=r.select(this);a.add(t,n)}),n.showDomain||e.select("path.domain").remove()}var n={axes:[r.svg.axis().orient("bottom")],scale:!1,lineHeight:20,stack:!1,tickSize:5,simple:!1,nice:!1,pixelsPerTick:100,units:["multi"],unitOverride:!1,yOffset:0,xOffset:0,labelWidth:0,showDomain:!1,dataType:"categorical",keepD3Style:!0};return e.simple=function(t){return arguments.length?(n.simple=t,e):n.simple},e.dataType=function(t){return arguments.length?(n.dataType=t,e):n.dataType},e.nice=function(t){return arguments.length?(n.nice=t,e):n.nice},e.tickSize=function(t){return arguments.length?(n.tickSize=t,e):n.tickSize},e.labelWidth=function(t){return arguments.length?(n.labelWidth=t,e):n.labelWidth},e.lineHeight=function(t){return arguments.length?(n.lineHeight=t,e):n.lineHeight},e.orient=function(t){return arguments.length?(n.axes[0].orient(t),e):n.axes[0].orient()},e.yOffset=function(t){return arguments.length?(n.yOffset=t,e):n.yOffset},e.xOffset=function(t){return arguments.length?(n.xOffset=t,e):n.xOffset},e.stack=function(t){return arguments.length?(n.stack=t,e):n.stack},e.scale=function(t,i){if(!arguments.length)return n.axes[0].scale();i=i||["unknown"],"categorical"===n.dataType&&(i=["categorical"]),n.scale=t,n.units=i;for(var a=[],o=0;o<i.length;o++){var l=i[o];if(s.formatGroups[l]){var c=r.svg.axis().orient(n.axes[0].orient()).scale(t).tickFormat(s.formatGroups[l]).tickSize(n.tickSize,0);a.push(c)}}return n.axes=a,e},e}var r=t("d3"),a=(t("../util/chart-attribute-styles"),t("../util/labels.js")),s=t("../util/dates.js");s.timeDiff;e.exports=i},{"../util/chart-attribute-styles":20,"../util/dates.js":23,"../util/labels.js":25,d3:"d3"}],2:[function(t,e,n){function i(t,e){return e.node()?Math.ceil(e.node().getBoundingClientRect()[t]):0}function r(t){return i("width",t)}function a(t){return i("height",t)}function s(t){return"right"==t||"left"==t}function o(t,e){var n=t.plotWidth=t.chartWidth-t.yLabelWidth,i=t.plotHeight=t.chartHeight-t.xLabelHeight;return s(e)?[0,i]:[0,n]}function l(t,e,n){var i=o(t,n);return f.scale.ordinal().domain(t.independentDomain).rangeRoundBands(i,0,e.margin)}function c(t,e,n){var i=o(t,n);return f.time.scale().domain(t.independentDomain).range(i)}function u(t,e,n){var i=o(t,n),r=s(n)?t.dependentDomain.reverse():t.dependentDomain;return f.scale.linear().range(i).domain(r)}function h(t,e){var n=0,i=m,o=e.chartPosition.top,l=e.chartPosition.left;return s(e.independentAxisOrient)?i=e.tickSize+2*m:o+=a(t.select(".y.axis"))-e.plotHeight,[e.dependentAxisOrient,e.independentAxisOrient].indexOf("top")>-1&&(t.selectAll(".x.axis text").each(function(){n=Math.max(n,a(f.select(this)))}),o+=n),[e.dependentAxisOrient,e.independentAxisOrient].indexOf("left")>-1&&(t.selectAll(".y.axis text").each(function(){n=Math.max(n,r(f.select(this)))}),l+=n+i),{top:o,left:l}}function d(t,e){this.model=e,this.chart=t,this.margin=.2}var f=t("d3"),p={category:t("./category.js"),date:t("./date.js"),number:t("./number.js")},m=4;d.prototype.hideTicks=function(){var t=this.chart.selectAll(".x.axis .primary line")[0].length,e=this.chart.selectAll(".x.axis .primary text")[0].length,n=e/t,i=Math.min.apply(null,this.dependentAxisScale.domain())>=0;return 1===n&&i},d.prototype.configureDependentScale=function(t){this.dependentAxis.tickFormat(t.numberAxisFormatter).simple(t.simpleValue).orient(t.dependentAxisOrient),s(t.dependentAxisOrient)?this.dependentAxis.tickSize(t.plotWidth).tickExtension(t.yLabelWidth):this.dependentAxis.tickSize(t.plotHeight).yOffset("bottom"==t.dependentAxisOrient?t.plotHeight:0),this.dependentAxis.scale(this.dependentAxisScale),this.chart.call(this.dependentAxis)},d.prototype.configureIndependentScale=function(t){this.independentAxis.simple(t.simpleDate).tickSize(t.tickSize).orient(t.independentAxisOrient),s(t.independentAxisOrient)||this.independentAxis.yOffset(t.plotHeight),this.independentAxis.scale(this.independentAxisScale,this.model.units),this.chart.call(this.independentAxis)},d.prototype.repositionAxis=function(){var t=this.model,e=o(t,t.independentAxisOrient),n=o(t,t.dependentAxisOrient);this.independentAxisScale.rangeRoundBands?this.independentAxisScale.rangeRoundBands(e,this.margin):this.independentAxisScale.range(e),this.dependentAxisScale.range(n),this.configureIndependentScale(t),this.configureDependentScale(t)},d.prototype.independentScale=function(t){var e=this.model;"ordinal"==t?(this.independentAxisScale=l(e,this,e.independentAxisOrient),this.independentAxis=p.category().dataType(e.dataType)):(this.independentAxisScale=c(e,this,e.independentAxisOrient),this.independentAxis=p.date()),this.configureIndependentScale(this.model)},d.prototype.dependentScale=function(t){var e=this.model;this.dependentAxisScale=u(e,this,e.dependentAxisOrient),this.dependentAxis=p.number(),e.niceValue&&this.dependentAxisScale.nice(),this.configureDependentScale(this.model)},d.prototype.createAxes=function(t){var e=this.model,n=e.tickSize+2*m;this.independentScale(t.independent),s(e.dependentAxisOrient)?(e.xLabelHeight=a(this.chart)+n,this.dependentScale(t.dependent),e.yLabelWidth=r(this.chart)-e.chartWidth):(e.yLabelWidth=r(this.chart)+n,this.dependentScale(t.dependent),e.xLabelHeight=a(this.chart)-e.chartHeight),this.model.tickSize="column"==e.chartType&&this.hideTicks()?0:e.tickSize,this.chart.selectAll("*").remove(),this.repositionAxis(),e.chartPosition=h(this.chart,e),this.chart.attr("transform",e.translate(e.chartPosition))},e.exports=d},{"./category.js":1,"./date.js":3,"./number.js":6,d3:"d3"}],3:[function(t,e,n){function i(){function t(t){t=t.append("g").attr("transform","translate("+e.xOffset+","+e.yOffset+")"),t.append("g").attr("class","x axis axis--independent").each(function(){a.add(r.select(this),e)}),e.showDomain||t.select("path.domain").remove()}var e={axes:[r.svg.axis().orient("bottom")],scale:!1,lineHeight:20,stack:!1,tickSize:5,simple:!1,nice:!1,pixelsPerTick:100,units:["multi"],unitOverride:!1,yOffset:0,xOffset:0,labelWidth:0,showDomain:!1,keepD3Style:!1};return t.simple=function(n){return arguments.length?(e.simple=n,t):e.simple},t.nice=function(n){return arguments.length?(e.nice=n,t):e.nice},t.tickSize=function(n){return arguments.length?(e.tickSize=n,t):e.tickSize},t.labelWidth=function(n){return arguments.length?(e.labelWidth=n,t):e.labelWidth},t.lineHeight=function(n){return arguments.length?(e.lineHeight=n,t):e.lineHeight},t.orient=function(n){if(!arguments.length)return e.axes[0].orient();if(e.axes.length)return e.axes[0].orient(n),t},t.yOffset=function(n){return arguments.length?(e.yOffset=n,t):e.yOffset},t.xOffset=function(n){return arguments.length?(e.xOffset=n,t):e.xOffset},t.stack=function(n){return arguments.length?(e.stack=n,t):e.stack},t.scale=function(n,i){return arguments.length?((!i||"daily"===i[0]&&l(n.domain()).months>1||"weekly"===i[0]&&l(n.domain()).years>1||"quarterly"===i[0]&&l(n.domain()).decades>1||"monthly"===i[0]&&l(n.domain()).years>4.9||"yearly"===i[0]&&l(n.domain()).years>10)&&(i=s.unitGenerator(n.domain(),e.simple)),e.nice&&n.nice((n.range()[1]-n.range()[0])/e.pixelsPerTick),e.units=i,e.scale=n,e.axes=o.render(n,i,e),t):e.axes[0].scale()},t}var r=t("d3"),a=t("../util/labels.js"),s=t("../util/dates.js"),o=t("./date.scale.js"),l=s.timeDiff;e.exports=i},{"../util/dates.js":23,"../util/labels.js":25,"./date.scale.js":4,d3:"d3"}],4:[function(t,e,n){var i=t("d3"),r=t("../util/dates.js"),a={centuries:i.time.year,decades:i.time.year,yearly:i.time.year,years:i.time.year,fullYears:i.time.year,quarterly:i.time.month,monthly:i.time.month,months:i.time.month,weeks:i.time.week,weekly:i.time.week,days:i.time.day,daily:i.time.day,hours:i.time.hours},s={centuries:100,decades:10,yearly:1,years:1,fullYears:1,quarterly:3,monthly:1,months:1,weeks:1,weekly:1,days:1,daily:1,hours:1};e.exports={customTicks:function(t,e,n){"quarterly"==n&&"yearly"==e&&(e="quarterly");var i=t.ticks(a[e],s[e]);i.push(t.domain()[0]),i.push(t.domain()[1]),i.sort(this.dateSort);var o=i.map(r.formatter[e]);return o[o.length-1]==o[o.length-2]&&i.pop(),i},dateSort:function(t,e){return t.getTime()-e.getTime()},createAxes:function(t,e,n,a){var s,o=n.simple?t.domain():this.customTicks(t,e,a),l=i.svg.axis().scale(t).tickValues(o).tickFormat(function(t,n){return s=s||t,r.formatter[e](t,n,s)}).tickSize(n.tickSize,0);return l},render:function(t,e,n){for(var i=[],a=0;a<e.length;a++){var s=e[a];r.formatter[s]&&i.push(this.createAxes(t,s,n,e[0]))}return i}}},{"../util/dates.js":23,d3:"d3"}],5:[function(t,e,n){e.exports={Create:t("./create.js"),Plot:t("./plot.js"),category:t("./category.js"),date:t("./date.js"),number:t("./number.js")}},{"./category.js":1,"./create.js":2,"./date.js":3,"./number.js":6,"./plot.js":9}],6:[function(t,e,n){function i(){"use strict";function t(t){var e="right"===n.orient()?-n.tickSize():0;t=t.append("g").attr("transform","translate("+(h+e)+","+u+")"),a.render(t,{axes:n,lineHeight:i,hardRules:c,extension:m}),f&&t.selectAll("text").remove(),o(t)}var e=5,n=r.svg.axis().orient("left").tickSize(e,0),i=16,l=[],c=[0],u=0,h=0,d=!1,f=!1,p=100,m=0;return t.tickExtension=function(e){return arguments.length?(m=e,t):m},t.tickSize=function(e){return arguments.length?(n.tickSize(-e),t):n.tickSize()},t.ticks=function(e){return arguments.length?(e.length>0&&(l=e),t):n.ticks()},t.orient=function(e){return arguments.length?(n.orient(e),t):n.orient()},t.simple=function(e){return arguments.length?(d=e,t):d},t.pixelsPerTick=function(e){return arguments.length?(p=e,t):p},t.scale=function(e){if(!arguments.length)return n.scale();if(n.scale(e),l.length>0)n.tickValues(l);else{var i=s.customTicks(n.scale(),p,c,d);n.tickValues(i)}return t},t.hardRules=function(e){return arguments.length?(c=e,t):c},t.yOffset=function(e){return arguments.length?(u=e,t):u},t.xOffset=function(e){return arguments.length?(h=e,t):h},t.tickFormat=function(e){return arguments.length?(n.tickFormat(e),t):n.tickFormat()},t.noLabels=function(e){return arguments.length?(f=e,t):f},t}var r=t("d3"),a=t("./number.labels"),s=t("./number.scale"),o=t("../util/chart-attribute-styles");e.exports=i},{"../util/chart-attribute-styles":20,"./number.labels":7,"./number.scale":8,d3:"d3"}],7:[function(t,e,n){e.exports={isVertical:function(t){return"left"===t.orient()||"right"===t.orient()},arrangeTicks:function(t,e,n,i){var r=this.textWidth(t,e.orient());t.selectAll(".tick").classed("origin",function(t,e){return i.indexOf(t)>-1}),this.isVertical(e)&&t.selectAll("text").attr("transform","translate( "+r+", "+-(n/2)+" )")},extendAxis:function(t,e,n){var i=t.selectAll("line");"right"==e.orient()?i.attr("x1",n):i.attr("x1",-n)},textWidth:function(t,e){var n=0;return"right"==e&&t.selectAll("text").each(function(t){n=Math.max(n,Math.ceil(this.getBoundingClientRect().width))}),n},removeDecimals:function(t){var e=0;t.selectAll("text").each(function(t){var n=parseFloat(this.textContent.split(".")[0]),i=parseFloat(this.textContent.split(".")[1]);e+=i,0===n&&0===i&&(this.textContent=0)}),e||t.selectAll("text").each(function(t){this.textContent=this.textContent.split(".")[0]})},render:function(t,e){t.append("g").attr("class",this.isVertical(e.axes)?"axis axis--dependent y left":"axis axis--dependent x").append("g").attr("class","primary").call(e.axes),this.removeDecimals(t),this.arrangeTicks(t,e.axes,e.lineHeight,e.hardRules),this.isVertical(e.axes)&&this.extendAxis(t,e.axes,e.extension)}}},{}],8:[function(t,e,n){e.exports={removeDuplicateTicks:function(t,e){var n=[],i=t.tickFormat();return e=e.filter(function(t){var e=i(t);return n.indexOf(e)>-1?!1:(n.push(e),!0)})},tickIntervalBoundaries:function(t){var e,n=0;return t.forEach(function(i,r){r!=t.length-1&&(e=+(t[r+1]-i).toPrecision(12),n=Math.max(e,n))}),n},detailedTicks:function(t,e){var n=this.tickCount(t,e),i=t.ticks(n),r=this.tickIntervalBoundaries(i),a=t.domain()[0]>t.domain()[1]?0:1,s=Math.ceil(t.domain()[a]/r)*r,o=Math.floor(t.domain()[1-a]/r)*r;return i[0>=s?"unshift":"push"](s),i[0>=o?"unshift":"push"](o),t.domain()[a]=s,t.domain()[1-a]=o,i},simpleTicks:function(t){var e=[],n=t.domain();return Math.min(n[0],n[1])<0&&Math.max(n[0],n[1])>0&&e.push(0),e.push(n[1]),e.push(n[0]),e},tickCount:function(t,e){var n=Math.round((t.range()[1]-t.range()[0])/e);return 2>n?n=3:5>n?n=5:10>n&&(n=10),n},customTicks:function(t,e,n,i){var r=[];if(i)r=this.simpleTicks(t);else{r=this.detailedTicks(t,e);var a=t.domain()[0]>t.domain()[1]?1:0;n.push(t.domain()[a])}return r=this.removeDuplicateTicks(t,r)}}},{}],9:[function(t,e,n){function i(t,e,n){return t.stacks||(t.stacks=[]),t.stacks[n]||(t.stacks[n]=[]),t.stacks[n].push(e),a.sum(t.stacks[n])}function r(t,e){this.model=t,this.axes=e}var a=t("d3");r.prototype.columnHeight=function(t){return Math.abs(this.axes.dependentAxisScale(t)-this.axes.dependentAxisScale(0))},r.prototype.barWidth=function(t){return Math.abs(this.axes.dependentAxisScale(t)-this.axes.dependentAxisScale(0))},r.prototype.columnWidth=function(){var t=20;return this.axes.independentAxisScale.rangeBand&&(t=this.axes.independentAxisScale.rangeBand()),this.model.stack||(t/=this.model.y.series.length),t},r.prototype.barHeight=function(){var t=20;return this.axes.independentAxisScale.rangeBand&&(t=this.axes.independentAxisScale.rangeBand()),this.model.stack||(t/=this.model.y.series.length),t},r.prototype.x=function(){return["bottom","top"].indexOf(this.model.independentAxisOrient)>-1?this.xIndependent.apply(this,arguments):this.xDependent.apply(this,arguments)},r.prototype.y=function(){return["bottom","top"].indexOf(this.model.independentAxisOrient)>-1?this.yDependent.apply(this,arguments):this.yIndependent.apply(this,arguments)},r.prototype.xDependent=function(t,e){if("line"==this.model.chartType)return this.axes.dependentAxisScale(t);var n=Math.min(0,t);if(this.model.stack){var r=i(this.model,t,e),a=this.model.stacks[e][this.model.stacks[e].length-1];n=0>r?r:r-a}return this.axes.dependentAxisScale(n)},r.prototype.yDependent=function(t,e){if("line"==this.model.chartType)return this.axes.dependentAxisScale(t);var n=Math.max(0,t);if(this.model.stack){var r=i(this.model,t,e),a=this.model.stacks[e][this.model.stacks[e].length-1];n=0>r?r-a:Math.max(0,r)}return this.axes.dependentAxisScale(n)},r.prototype.xIndependent=function(t,e){var n=this.axes.independentAxisScale(t),i=0;return this.axes.independentAxisScale.rangeBand&&!this.model.stack&&(i=this.axes.independentAxisScale.rangeBand()/this.model.y.series.length),n+i*e},r.prototype.yIndependent=function(t,e){var n=this.axes.independentAxisScale(t),i=0;return this.axes.independentAxisScale.rangeBand&&!this.model.stack&&(i=this.axes.independentAxisScale.rangeBand()/this.model.y.series.length),n+i*e},e.exports=r},{d3:"d3"}],10:[function(t,e,n){function i(t,e,n,i,a){var o=r(e,i),l=new s.Plot(e,n),c=t.append("g").attr("class","series");c.selectAll("rect").data(o).enter().append("rect").attr("class",function(t){return"bar "+i.className+(t.value<0?" negative":" positive")}).attr("data-value",function(t){return t.value}).attr("x",function(t,e){return l.x(t.value,e)}).attr("y",function(t,e){return l.y(t.key,a)}).attr("height",function(t,e){return l.barHeight(t,e)}).attr("width",function(t,e){return l.barWidth(t.value,e)}),e.stack||c.selectAll("text.null-label").data(o._nulls).enter().append("text").attr("class","null-label").attr("x",function(t,e){return l.x(t.value,e)}).attr("y",function(t,e){var n=l.y(t.key,a),i=l.barHeight(t,e)/2;return n+i}).attr("dx","1em").attr("dy","0.31em").text("n/a"),u(t),e.stack||c.selectAll("text.null-label").each(function(t,e){var n=this.getBoundingClientRect();n.height+2>=l.barHeight(t,e)&&(this.innerHTML="–")})}function r(t,e){var n=[],i=t.data.map(function(n){return{key:n[t.x.series.key],value:Array.isArray(n.values)?n.values[0][e.key]:n[e.key]}}).filter(function(e){var i=!(null!==e.value&&!isNaN(e.value));return i&&n.push(e),t.stack&&i?(e.value=0,!0):!i});return i._nulls=n,i}function a(t){"use strict";var e=new o("bar",Object.create(t.data()[0])),n=t.append("svg").attr({"class":"graphic bar-chart",height:e.height,width:e.width,xmlns:"http://www.w3.org/2000/svg",version:"1.2"});l.create(n,e);var r=new c(n,e);r.addHeader(),r.addFooter();var a=n.append("g").attr("class","chart");a.attr("transform",e.translate(e.chartPosition)),e.tickSize=0;var u=e.groupData||"categorical"===e.dataType?"ordinal":"time",h=new s.Create(a,e);h.createAxes({dependent:"number",independent:u});var d=a.append("g").attr("class","plot"),f=0;for(f;f<e.y.series.length;f++)i(d,e,h,e.y.series[f],f)}var s=t("../axis"),o=t("../util/data.model.js"),l=t("../util/metadata.js"),c=t("../util/dressing.js"),u=t("../util/chart-attribute-styles");e.exports=a},{"../axis":5,"../util/chart-attribute-styles":20,"../util/data.model.js":22,"../util/dressing.js":24,"../util/metadata.js":28}],11:[function(t,e,n){function i(){"use strict";function t(t){var e={title:"chart title",subtitle:"chart subtitle (letters)",height:void 0,width:300,chartHeight:300,chartWidth:300,blockPadding:8,data:[],error:function(t){console.log("ERROR: ",t)}};for(var n in t)e[n]=t[n];return e}function e(t){return Math.ceil(t.node().getBoundingClientRect().height)}function n(t){return"translate("+t.left+","+t.top+")"}function i(i){var r=t(i.data()[0]);r.height||(r.height=r.width);var a=i.append("svg").attr({"class":"null-chart",height:r.height,width:r.width}),s=a.append("text").text(r.title+" - PLACE HOLDER CHART");s.attr("transform",n({top:e(s),left:0}));var o=a.append("text").text(r.subtitle);o.attr("transform",n({top:e(s)+e(o),left:0})),a.selectAll("text").attr({fill:"#000",stroke:"none"})}return i}e.exports=i},{}],12:[function(t,e,n){function i(t,e,n,i,a){var o=r(e,i),l=new s.Plot(e,n),c=t.append("g").attr("class","series");c.selectAll("rect").data(o).enter().append("rect").attr("class",function(t){return"column "+i.className+(t.value<0?" negative":" positive")}).attr("data-value",function(t){return t.value}).attr("x",function(t,e){return l.x(t.key,a)}).attr("y",function(t,e){return l.y(t.value,e)}).attr("height",function(t,e){return l.columnHeight(t.value)}).attr("width",function(t,e){return l.columnWidth(t,e)}),e.stack||c.selectAll("text.null-label").data(o._nulls).enter().append("text").attr("class","null-label").attr("x",function(t,e){return l.x(t.key,a)}).attr("y",function(t,e){return l.y(t.value,e)}).attr("dy","-0.5em").attr("dx",function(t,e){return l.columnWidth(t,e)/2}).text("n/a"),u(t),e.stack||c.selectAll("text.null-label").each(function(t,e){var n=this.getBoundingClientRect();n.width+2>=l.columnWidth(t,e)&&(this.innerHTML="–")})}function r(t,e){var n=[],i=t.data.map(function(n){return{key:n[t.x.series.key],value:Array.isArray(n.values)?n.values[0][e.key]:n[e.key]}}).filter(function(e){var i=!(null!==e.value&&!isNaN(e.value));return i&&n.push(e),t.stack&&i?(e.value=0,!0):!i});return i._nulls=n,i}function a(t){"use strict";var e=new o("column",Object.create(t.data()[0])),n=t.append("svg").attr({"class":"graphic column-chart",height:e.height,width:e.width,xmlns:"http://www.w3.org/2000/svg",version:"1.2"});l.create(n,e);var r=new c(n,e);r.addHeader(),r.addFooter();var a=n.append("g").attr("class","chart");a.attr("transform",e.translate(e.chartPosition));var u=e.groupData||"categorical"===e.dataType?"ordinal":"time",h=new s.Create(a,e);h.createAxes({dependent:"number",independent:u});var d=a.append("g").attr("class","plot"),f=0;for(f;f<e.y.series.length;f++)i(d,e,h,e.y.series[f],f)}var s=t("../axis"),o=t("../util/data.model.js"),l=t("../util/metadata.js"),c=t("../util/dressing.js"),u=t("../util/chart-attribute-styles");e.exports=a},{"../axis":5,"../util/chart-attribute-styles":20,"../util/data.model.js":22,"../util/dressing.js":24,"../util/metadata.js":28}],13:[function(t,e,n){e.exports={line:t("./line.js"),blank:t("./blank.js"),pie:t("./pie.js"),column:t("./column.js"),bar:t("./bar.js")}},{"./bar.js":10,"./blank.js":11,"./column.js":12,"./line.js":14,"./pie.js":15}],14:[function(t,e,n){function i(t,e,n,i){var a=r(e,i),c=new o.Plot(e,n),u=s.svg.line().interpolate(l.gappedLine).x(function(t,e){return c.x(t.key,0)}).y(function(t,e){return c.y(t.value,e)});t.append("path").datum(a).attr("class",function(t){return"line "+i.className+(t.value<0?" negative":" positive")}).attr("stroke-width",e.lineStrokeWidth).attr("d",function(t){return u(t)}),d(t)}function r(t,e){var n=t.data.map(function(n){return{key:n[t.x.series.key],value:Array.isArray(n.values)?n.values[0][e.key]:n[e.key]}}).filter(function(t){return null!==t.value});return n}function a(t){"use strict";var e=new c("line",Object.create(t.data()[0])),n=t.append("svg").attr({"class":"graphic line-chart",height:e.height,width:e.width,xmlns:"http://www.w3.org/2000/svg",version:"1.2"});u.create(n,e);var r=new h(n,e);r.addHeader(),r.addFooter();var a=n.append("g").attr("class","chart");a.attr("transform",e.translate(e.chartPosition));var s=new o.Create(a,e);s.createAxes({dependent:"number",independent:"time"});for(var l=a.append("g").attr("class","plot"),d=e.y.series.length;d--;)i(l,e,s,e.y.series[d],d)}var s=t("d3"),o=t("../axis"),l=t("../util/line-interpolators.js"),c=t("../util/data.model.js"),u=t("../util/metadata.js"),h=t("../util/dressing.js"),d=t("../util/chart-attribute-styles");e.exports=a},{"../axis":5,"../util/chart-attribute-styles":20,"../util/data.model.js":22,"../util/dressing.js":24,"../util/line-interpolators.js":26,"../util/metadata.js":28,d3:"d3"}],15:[function(t,e,n){function i(){"use strict";function t(t){var e={title:"chart title",height:void 0,width:300,chartHeight:300,chartWidth:300,indexProperty:"&",valueProperty:"value",blockPadding:8,data:[],error:function(t){console.log("ERROR: ",t)}};for(var n in t)e[n]=t[n];return e}function e(t){return Math.ceil(t.node().getBoundingClientRect().height)}function n(t){return"translate("+t.left+","+t.top+")"}function i(i){var r=t(i.data()[0]);r.height||(r.height=r.width);var a=i.append("svg").attr({"class":"null-chart",height:r.height,width:r.width}),s=a.append("text").text(r.title+" - PLACE HOLDER CHART");s.attr("transform",n({top:e(s),left:0}));var o=a.append("text").text(r.subtitle);o.attr("transform",n({top:e(s)+e(o),left:0}));var l=a.append("g").attr("class","chart");r.data.length>3&&r.error("PIE warning: too many segments!");r.width/2;l.selectAll(".slice").data(r.data).enter(),a.selectAll("text").attr({fill:"#000",stroke:"none"})}return i}e.exports=i},{}],16:[function(t,e,n){function i(t,e){"use strict";e||(e=32);var n="M21.777,53.336c0,6.381,1.707,7.1,8.996,7.37v2.335H1.801v-2.335c6.027-0.27,7.736-0.989,7.736-7.37v-41.67 c0-6.387-1.708-7.104-7.556-7.371V1.959h51.103l0.363,13.472h-2.519c-2.16-6.827-4.502-8.979-16.467-8.979h-9.27 c-2.785,0-3.415,0.624-3.415,3.142v19.314h4.565c9.54,0,11.61-1.712,12.779-8.089h2.338v21.559h-2.338 c-1.259-7.186-4.859-8.981-12.779-8.981h-4.565V53.336z M110.955,1.959H57.328l-1.244,13.477h3.073c1.964-6.601,4.853-8.984,11.308-8.984h7.558v46.884 c0,6.381-1.71,7.1-8.637,7.37v2.335H98.9v-2.335c-6.931-0.27-8.64-0.989-8.64-7.37V6.453h7.555c6.458,0,9.351,2.383,11.309,8.984 h3.075L110.955,1.959z",i=t.append("path").attr("d",n),r=i.node().getBoundingClientRect();if(r.width){var a=Math.min(e/r.width,e/r.height);i.attr({transform:"scale("+a+")",fill:"rgba(0,0,0,0.1)"})}}e.exports=i},{}],17:[function(t,e,n){function i(t){"use strict";function e(t,e){t.append("line").attr({"class":h,x1:1,y1:-5,x2:o,y2:-5}).attr("stroke-width",c).classed("key__line",!0)}function n(t,e){t.append("rect").attr({"class":h,x:1,y:-10,width:o,height:10}).classed("key__column",!0)}function i(e){var n=u[t.chartType];e=e.append("g").attr("class","key");var i=e.selectAll("g").data(e.datum().filter(f)).enter().append("g").attr({"class":"key__item",transform:function(t,e){return"translate(0,"+(l+e*l)+")"}});n(i,d),i.append("text").attr({"class":"key__label",x:o+10}).text(d),a(e)}t=t||{};var s=300,o=15,l=16,c=r(t.lineThickness),u={line:e,column:n,bar:n},h=function(t){return t.style},d=function(t){return t.label},f=function(){return!0};return i.label=function(t){return arguments.length?(d=t,i):d},i.style=function(t){return arguments.length?(h=t,i):h},i.width=function(t){return arguments.length?(s=t,i):s},i.lineHeight=function(t){return arguments.length?(l=t,i):l},i}var r=t("../util/line-thickness.js"),a=t("../util/chart-attribute-styles");e.exports=i},{"../util/chart-attribute-styles":20,"../util/line-thickness.js":27}],18:[function(t,e,n){function i(){"use strict";function t(t,e){t.each(function(){var t,n=r.select(this),i=n.text().trim().split(/\s+/).reverse(),a=[],s=0,c=n.attr("y"),u=parseFloat(n.attr("dy"));isNaN(u)&&(u=0);for(var h=n.text(null).append("tspan").attr("x",0).attr("y",c).attr("dy",u+l);t=i.pop();)if(a.push(t),h.text(a.join(" ")),h.node().getComputedTextLength()>e){a.pop(),h.text(a.join(" ")),a=[t],s++;var d=s*o;h=n.append("tspan").attr("x",0).attr("y",c).attr("y",+d+l).text(t)}})}function e(e,r){r||(r=function(t){return t}),e=e.append("g").attr("transform","translate("+i+","+a+")"),e.append("text").text(r).call(t,s),n=e.node().getBoundingClientRect()}var n,i=0,a=0,s=1e3,o=20,l="px";return e.bounds=function(){return n},e.units=function(t){return arguments.length?(l=t,e):l},e.lineHeight=function(t){return arguments.length?(o=t,e):o},e.width=function(t){return arguments.length?(s=t,e):s},e.yOffset=function(t){return arguments.length?(a=t,e):a},e.xOffset=function(t){return arguments.length?(a=t,e):a},e}var r=t("d3");e.exports=i},{d3:"d3"}],19:[function(t,e,n){function i(t){if(t){if(t in r)return r[t];if("string"==typeof t){var e=t.split(":");return{width:e[0],height:e[1]}}return t}}var r={square:{width:1,height:1},standard:{width:4,height:3},golden:{width:1.618,height:1},classicPhoto:{width:3,height:2},widescreen:{width:16,height:9},panoramic:{width:2.39,height:1}};e.exports={commonRatios:r,widthFromHeight:function(t,e){if(e=i(e),!e)throw new Error("Ratio is falsey");if("number"==typeof e)return t*e;if(!e.height||!e.width)throw new Error("Ratio must have width and height values");return e=e.width/e.height,Math.ceil(t*e)},heightFromWidth:function(t,e){if(e=i(e),!e)throw new Error("Ratio is falsey");if("number"==typeof e)return t*e;if(!e.height||!e.width)throw new Error("Ratio must have width and height values");return e=e.height/e.width,Math.ceil(t*e)}}},{}],20:[function(t,e,n){function i(t,e){var n=[{selector:"svg text",attributes:{"font-family":"BentonSans, sans-serif",fill:"#a7a59b",stroke:"none"}},{selector:".axis path, .axis line",attributes:{"shape-rendering":"crispEdges",fill:"none"}},{selector:".axis--dependent path.domain, .secondary path.domain, .secondary .tick line",attributes:{stroke:"none"}},{selector:".axis--dependent .tick line",attributes:{"stroke-dasharray":"2 2"}},{selector:".axis--dependent .origin line",attributes:{stroke:"#333","stroke-dasharray":"none"}},{selector:".axis--dependent .origin.tick line",attributes:{stroke:"#333","stroke-dasharray":"none"}},{selector:".primary .tick text",attributes:{"font-size":12,fill:"#757470"}},{selector:".secondary .tick text",attributes:{"font-size":10,fill:"#757470"}},{selector:".primary .tick line",attributes:{stroke:"#a7a59b"}},{selector:".y.axis.right text",attributes:{"text-anchor":"start"}},{selector:".y.axis.left text",attributes:{"text-anchor":"end"}},{selector:".axis--independent .primary path.domain",attributes:{stroke:"#757470"}},{selector:"path.line, line.key__line",attributes:{fill:"none","stroke-linejoin":"round","stroke-linecap":"round"}},{selector:".line--series1",attributes:{stroke:a.line[0]}},{selector:".line--series2",attributes:{stroke:a.line[1]}},{selector:".line--series3",attributes:{stroke:a.line[2]}},{selector:".line--series4",attributes:{stroke:a.line[3]}},{selector:".line--series5",attributes:{stroke:a.line[4]}},{selector:".line--series6",attributes:{stroke:a.line[5]}},{selector:".line--series7",attributes:{stroke:a.line[6]}},{selector:".column, .key__column, .bar, .key__bar",attributes:{stroke:"none"}},{selector:".column--series1, .bar--series1",attributes:{fill:a.area[0]}},{selector:".column--series2, .bar--series2",attributes:{fill:a.area[1]}},{selector:".column--series3, .bar--series3",attributes:{fill:a.area[2]}},{selector:".column--series4, .bar--series4",attributes:{fill:a.area[3]}},{selector:".column--series5, .bar--series5",attributes:{fill:a.area[4]}},{selector:".column--series6, .bar--series6",attributes:{fill:a.area[5]}},{selector:".column--series7, .bar--series7",attributes:{fill:a.area[6]}},{selector:"path.accent, line.accent, rect.accent",attributes:{stroke:a.accent}},{selector:".series text.null-label",attributes:{"text-anchor":"middle","font-size":10,fill:"rgba(0, 0, 0, 0.4)"}},{selector:".chart-title text, .chart-title tspan",attributes:{"font-family":"BentonSans, sans-serif","font-size":18,fill:"rgba(0, 0, 0, 0.8)"}},{selector:".chart-subtitle text, .chart-subtitle tspan",attributes:{"font-family":"BentonSans, sans-serif","font-size":12,fill:"rgba(0, 0, 0, 0.5)"}},{selector:".chart-source text, .chart-source tspan",attributes:{"font-family":"BentonSans, sans-serif","font-size":10,fill:"rgba(0, 0, 0, 0.5)"}},{selector:".chart-footnote text, .chart-footnote tspan",attributes:{"font-family":"BentonSans, sans-serif","font-size":12,fill:"rgba(0, 0, 0, 0.5)"}},{selector:"text.key__label",attributes:{"font-family":"BentonSans, sans-serif","font-size":12,fill:"rgba(0, 0, 0, 0.5)"}}];return e||(t||r).selectAll("*").attr("style",null),n.forEach(function(e,n){(t||r).selectAll(e.selector).attr(e.attributes)}),!0}var r=t("d3"),a=t("./colours");e.exports=i},{"./colours":21,d3:"d3"}],21:[function(t,e,n){e.exports={line:["#af516c","#ecafaf","#d7706c","#76acb8","#7fd8f5","#3d7ab3","#b8b1a9"],area:["#bb6d82","#ecafaf","#d7706c","#cb9f8c","#b07979","#ccc2c2","#8f7d95","#b8b1a9"],accent:"#9e2f50"}},{}],22:[function(t,e,n){function i(t){return t&&t instanceof Date&&!isNaN(+t)}function r(t){return function(e){var n=e.left||0,i=e.top||0;return"translate("+(t+n)+","+i+")"}}function a(t){if(t.chartWidth)return t.chartWidth;var e=t.contentWidth<260?16:26;return t.contentWidth-e}function s(t){var e=[];return t.y.series.forEach(function(n){var i=n.key;t.data=t.data.map(function(e,n){var r=Array.isArray(e.values)?e.values[0][i]:e[i],a=null===r||"number"==typeof r;return a||t.error({node:null,message:"Value is not a number",value:r,row:n,column:i}),e});var r=g.extent(t.data,function(t){return Array.isArray(t.values)?t.values[0][i]:t[i]});e=e.concat(r)}),e}function o(t,e){if(t.independentDomain)return t.independentDomain;var n="categorical"===t.dataType,i=["column","bar"].indexOf(e)>=0;return(t.groupData||n)&&i?(t.data=t.groupData&&!n?f(t,t.units):t.data,t.data.map(function(e){return e[t.x.series.key]})):g.extent(t.data,function(e){return e[t.x.series.key]})}function l(t){var e=[];return t.data.map(function(n,i){var r,a=0,s=Array.isArray(n.values)?n.values[0]:n;for(r in s)r!==t.x.series.originalKey&&(a+=s[r]);e.push(a)}),e}function c(t,e){if(t.dependentDomain)return t.dependentDomain;var n=t.stack?l(t):s(t),i=g.extent(n);!t.falseOrigin&&i[0]>0&&(i[0]=0);var r=["column","bar"].indexOf(e)>=0;return r&&i[1]<0&&(i[1]=0),i}function u(t){if(t.chartHeight)return t.chartHeight;var e=t.chartWidth<220,n=t.chartWidth>400,i=e?1.1:n?y.commonRatios.widescreen:y.commonRatios.standard;return y.heightFromWidth(t.chartWidth,i)}function h(t){return Array.isArray(t.data)?t.data.map(function(e,n){
var r=e[t.x.series.key],a={node:null,message:"",row:n,column:t.x.series.key,value:r};return e?r?i(r)||"line"!=t.chartType||(a.message="Value is not a valid date"):a.message="X axis value is empty or null":a.message="Empty row",a.message&&(t.error(a),e[t.x.series.key]=null),e}):[]}function d(t){var e=t.key;return"boolean"!=typeof t.key?e=t.y.series.length>1:t.key&&!t.y.series.length&&(e=!1),e}function f(t,e){var n=t.data[0][t.x.series.key],i=[];return t.data.forEach(function(r,a){var s=[k.formatter[e[0]](r[t.x.series.key],a,n)];e[1]&&s.push(k.formatter[e[1]](r[t.x.series.key],a,n)),e[2]&&s.push(k.formatter[e[2]](r[t.x.series.key],a,n)),i.push({key:s.join(" "),values:[r]})}),t.data=i,t.x.series.key="key",t.data}function p(t){if(!t)return!1;var e=!1;return t.forEach(function(t){var n=["weekly","quarterly","monthly","yearly"].indexOf(t);e=e||n>-1}),e}function m(t,e){var n={line:["line--series1","line--series2","line--series3","line--series4","line--series5","line--series6","line--series7","accent"],column:["column--series1","column--series2","column--series3","column--series4","column--series5","column--series6","column--series7","accent"],bar:["bar--series1","bar--series2","bar--series3","bar--series4","bar--series5","bar--series6","bar--series7","accent"]},i={chartType:t,height:void 0,tickSize:5,width:300,chartHeight:void 0,chartWidth:void 0,simpleDate:!1,simpleValue:!1,logoSize:28,falseOrigin:!1,error:this.error,lineClasses:{},columnClasses:{},niceValue:!0,hideSource:!1,stack:!1,dependentAxisOrient:"left",independentAxisOrient:"bottom",margin:2,lineThickness:void 0,yLabelWidth:0,xLabelHeight:0,x:{series:"&"},y:{series:[]},labelLookup:null,sourcePrefix:"Source: "};for(var s in e)i[s]=e[s];return i.x.series=v.normalise(i.x.series),i.y.series=v.normaliseY(i.y.series).filter(function(t){return!!t.key&&t.key!==i.x.series.key}).map(function(e,i){return e.index=i,e.className=n[t][i],e}),i.contentWidth=i.width-2*i.margin,i.chartWidth=a(i),i.chartHeight=u(i),i.translate=r(0),i.data=h(i),i.groupData=p(i.units),i.independentDomain=o(i,t),i.dependentDomain=c(i,t),i.lineStrokeWidth=x(i.lineThickness),i.key=d(i),i}var g=t("d3"),x=t("../util/line-thickness.js"),y=t("../util/aspect-ratios.js"),v=t("../util/series-options.js"),k=t("../util/dates.js");m.prototype.error=function(t){console.log("ERROR: ",t)},e.exports=m},{"../util/aspect-ratios.js":19,"../util/dates.js":23,"../util/line-thickness.js":27,"../util/series-options.js":29,d3:"d3"}],23:[function(t,e,n){function i(t){if(!t[0].getTime||!t[1].getTime)return{};var e=t[1].getTime()-t[0].getTime(),n=864e5;return{days:e/n,months:e/(30*n),years:e/(365.25*n),decades:e/(365.25*n*10),centuries:e/(365.25*n*100)}}function r(t,e){if(!t[0].getTime||!t[1].getTime)return[];var n,r=i(t);return n=r.days<2?["hours","days","months"]:r.days<60?["days","months"]:r.years<1?["months","years"]:r.decades<1.5?["years"]:r.centuries<1.5?["decades"]:r.centuries<10?["centuries"]:["multi"],e&&(n.indexOf("years")>-1||n.indexOf("decades")||n.indexOf("centuries"))&&(n=["fullYears"]),n}var a=t("d3"),s={centuries:function(t,e){return 0===e||t.getYear()%100===0?a.time.format("%Y")(t):a.time.format("%y")(t)},decades:function(t,e){return 0===e||t.getYear()%100===0?a.time.format("%Y")(t):a.time.format("%y")(t)},years:function(t,e){return 0===e||t.getYear()%100===0?a.time.format("%Y")(t):a.time.format("%y")(t)},fullYears:function(t,e){return a.time.format("%Y")(t)},yearly:function(t,e,n){var i=n&&!Array.isArray(n)&&s.years(n,e)==s.years(t,e)?"fullYears":"years";return s[i](t,e)},quarterly:function(t,e){return"Q"+Math.floor((t.getMonth()+3)/3)},weekly:function(t,e){return a.time.format("%W")(t)},monthly:function(t,e){return s.months(t,e)},shortmonths:function(t,e){return a.time.format("%b")(t)[0]},months:function(t,e){return a.time.format("%b")(t)},weeks:function(t,e){return a.time.format("%e %b")(t)},days:function(t,e){return a.time.format("%e")(t)},daily:function(t,e){var n=a.time.format("%e")(t);return" "===n[0]&&(n=n.substring(1)),n},hours:function(t,e){return parseInt(a.time.format("%H")(t))+":00"}},o={unknown:function(t,e){return t},years:function(t,e){return s.years(new Date(t),e)},yearly:function(t,e){return t.split(" ")[t.split(" ").length-1]},quarterly:function(t,e){return t.split(" ")[0]},weekly:function(t,e){return t.split(" ")[0]},daily:function(t,e){return" "===t[0]&&(t=t.substring(1)),t.split(" ")[0]},monthly:function(t,e){var n=t.split(" "),i=3==n.length?1:0;return n[i]},months:function(t,e){return t.split(" ")[0]},decades:function(t,e){return t.split(" ")[1]},centuries:function(t,e){return t.split(" ")[1]},categorical:function(t,e){return t}};e.exports={timeDiff:i,formatGroups:o,formatter:s,unitGenerator:r}},{d3:"d3"}],24:[function(t,e,n){function i(t){return Math.ceil(t.node().getBoundingClientRect().height)}function r(t,e){this.svg=t,this.model=e,this.blockPadding=8,this.defaultLineHeight=1.2,this.titleFontSize=18,this.footerLineHeight=15,this.subtitleFontSize=12,this.sourceFontSize=10,this.halfLineStrokeWidth=Math.ceil(e.lineStrokeWidth/2),this.headerHeight=0,this.footerHeight=0,this.sourceFontOffset=0}var a=t("../element/text-area.js"),s=t("../element/series-key.js"),o=t("../element/logo.js");r.prototype.addHeader=function(){this.addTitle(),this.addSubTitle(),this.addSeriesKey(),this.setPosition()},r.prototype.addFooter=function(){this.addFootNotes(),this.addSource(),this.setHeight(),this.addLogo()},r.prototype.addLogo=function(){var t=this.svg,e=this.model,n=t.append("g").attr("class","chart-logo").call(o,e.logoSize),r=3,a=e.height-i(n)-r-this.getSourceFontOffset();n.attr("transform",e.translate({left:e.width-e.logoSize,top:a}))},r.prototype.addSubTitle=function(){var t=this.svg,e=this.model,n=this.defaultLineHeight,r=Math.ceil(this.subtitleFontSize*n),s=a().width(e.contentWidth).lineHeight(r),o=t.append("g").attr("class","chart-subtitle").datum(e.subtitle).call(s);this.subtitlePosition||(e.subtitle?(this.subtitlePosition={top:this.headerHeight+this.subtitleFontSize,left:0},this.headerHeight+=i(o)+this.blockPadding):this.subtitlePosition={top:this.headerHeight,left:0}),o.attr("transform",e.translate(this.subtitlePosition))},r.prototype.addTitle=function(){var t=this.svg,e=this.model,n=this.defaultLineHeight,r=Math.ceil(this.titleFontSize*n),s=r-this.titleFontSize,o=a().width(e.contentWidth).lineHeight(r),l=t.append("g").attr("class","chart-title").datum(e.title).call(o);this.titlePosition||(e.title?(this.titlePosition={top:this.headerHeight+this.titleFontSize,left:0},this.headerHeight+=i(l)+this.blockPadding-s):this.titlePosition={top:this.headerHeight,left:0}),l.attr("transform",e.translate(this.titlePosition))},r.prototype.addSeriesKey=function(){var t=this.svg,e=this.model;if(e.key){var n=s({lineThickness:e.lineStrokeWidth,chartType:e.chartType}).style(function(t){return t.value}).label(function(t){return t.key}),r=e.y.series.map(function(t){return{key:t.label,value:t.className}}),a=t.append("g").attr("class","chart__key").datum(r).call(n);this.keyPosition||(this.keyPosition={top:this.headerHeight,left:this.halfLineStrokeWidth},this.headerHeight+=i(a)+this.blockPadding),a.attr("transform",e.translate(this.keyPosition))}},r.prototype.addFootNotes=function(){var t=this.svg,e=this.model,n=a().width(this.model.contentWidth-this.model.logoSize).lineHeight(this.footerLineHeight),r=t.append("g").attr("class","chart-footnote").datum(e.footnote).call(n),s=i(r),o=e.chartPosition.top+e.chartHeight;r.attr("transform",e.translate({top:o+this.footerLineHeight+this.blockPadding})),this.footerHeight+=s},r.prototype.addSource=function(){var t=this.svg,e=this.model,n=a().width(this.model.contentWidth-this.model.logoSize).lineHeight(this.footerLineHeight),r=this.defaultLineHeight,s=this.sourceFontSize*r,o=t.append("g").attr("class","chart-source").datum(e.sourcePrefix+e.source).call(n),l=i(o),c=e.chartPosition.top+e.chartHeight;o.attr("transform",e.translate({top:this.footerHeight+c+s+2*this.blockPadding})),e.hideSource&&(o.remove(),l=0),this.sourceFontOffset=s-this.sourceFontSize,this.footerHeight+=l},r.prototype.getSourceFontOffset=function(){return this.sourceFontOffset},r.prototype.setHeight=function(){var t=this.model,e=Math.max(this.footerHeight+2*this.blockPadding,t.logoSize)+this.blockPadding;t.height?(t.chartHeight=t.height-this.headerHeight-e,t.chartHeight<0&&t.error({message:"calculated plot height is less than zero"})):t.height=this.headerHeight+t.chartHeight+e,this.svg.attr("height",Math.ceil(t.height))},r.prototype.setPosition=function(){this.model.chartPosition={top:this.headerHeight+this.halfLineStrokeWidth,left:"left"===this.model.dependentAxisOrient?0:this.halfLineStrokeWidth}},e.exports=r},{"../element/logo.js":16,"../element/series-key.js":17,"../element/text-area.js":18}],25:[function(t,e,n){var i=t("d3"),r=t("../util/dates"),a=t("./chart-attribute-styles"),s=r.formatter;e.exports={extendedTicks:function(t,e){var n=1.5,i='.tick line[y2="'+e.tickSize*n+'"]',r=".tick line";t.selectAll(r).attr("y2",function(t){var i=t.getMonth?s[e.units[0]](t):t.toString(),r=0===i.indexOf("Q1")||0===i.indexOf("Jan");return r?e.tickSize*n:e.tickSize});var a=t.selectAll(r)[0].length,o=t.selectAll(i)[0].length;o+2>=a&&t.selectAll(i).attr("y2",e.tickSize)},add:function(t,e){var n=this,i={row:0};e.axes.forEach(function(r,a){n.addRow(t,r,i,e),i.row++}),t.selectAll(".x.axis .primary text").attr({x:null,y:null,dy:15+e.tickSize})},addRow:function(t,e,n,i){var s=n.row?"secondary":"primary";t.append("g").attr("class",s).attr("transform","translate(0,"+n.row*i.lineHeight+")").call(e),a(t,i.keepD3Style),"categorical"!==i.dataType&&(this.removeDuplicates(t,"."+s+" text"),n.extendTicks&&this.extendedTicks(t,i,n.extendTicks),"days"==r.unitGenerator(i.scale.domain())[0]&&this.removeDays(t,".primary text"),"quarterly"==i.units[0]&&this.removeQuarters(t,e,n),"weekly"==i.units[0]&&this.removeWeekly(t,e,n),"daily"==i.units[0],"monthly"==i.units[0]&&this.removeMonths(t,e,n,i),this.removeOverlapping(t,"."+s+" text"))},intersection:function(t,e){var n=2,i=t.left<=e.right+n&&e.left<=t.right+n&&t.top<=e.bottom&&e.top<=t.bottom;return i},overlapping:function(t){var e=this,n=[],i=!1;return t.each(function(t,r){var a=this.getBoundingClientRect(),s=!0;n.forEach(function(t,n){e.intersection(t,a)&&(s=!1,i=!0)}),s&&n.push(a)}),i},removeQuarters:function(t,e,n){this.overlapping(t.selectAll(".primary text"))&&!n.extendTicks&&(n.row--,n.extendTicks=!0,t.select(".primary").remove())},removeWeekly:function(t,e,n){n.extendTicks||(n.row--,n.extendTicks=!0,t.select(".primary").remove())},removeDaily:function(t,e,n){n.extendTicks||(n.row--,n.extendTicks=!0,t.select(".primary").remove())},removeMonths:function(t,e,n,r){if(!(t.selectAll(".primary text")[0].length<13)){n.extendTicks=!0;var a=t.selectAll(".primary .tick text");a.each(function(t,e){0!==e&&e!==a[0].length-1&&"Jan"!=i.select(this).text()&&i.select(this).remove()})}},removeDays:function(t,e){function n(t,e){var n=i.select(this);0!==e&&e!==a-1&&1!=n.text()&&n.remove()}var r=t.selectAll(e),a=r[0].length;r.each(n)},removeOverlapping:function(t,e){function n(t,e){var n=e===s-1,o=a[0][s-2],l=n&&r.intersection(o.getBoundingClientRect(),this.getBoundingClientRect());n&&l?i.select(o).remove():e%2===0||n||i.select(this).remove()}for(var r=this,a=t.selectAll(e),s=a[0].length,o=5;r.overlapping(t.selectAll(e))&&o>0;)o--,t.selectAll(e).each(n),a=t.selectAll(e),s=a[0].length},removeDuplicates:function(t,e){function n(t,e){if(0!==e){var n=i.select(this),a=r[0][e-1];n.text()===i.select(a).text()&&n.remove()}}var r=t.selectAll(e);r.each(n)}}},{"../util/dates":23,"./chart-attribute-styles":20,d3:"d3"}],26:[function(t,e,n){function i(t){"use strict";var e=0,n=[[]];t.forEach(function(t,i){isNaN(t[1])?(1==n[e].length&&console.log("warning: Found a line fragment which is a single point this won't be drawn"),e++,n[e]=[]):n[e].push(t)});var i=[];n.forEach(function(t){i.push(r.svg.line()(t))});var a=i.join("");return a.substr(1)}var r=t("d3");e.exports={gappedLine:i}},{d3:"d3"}],27:[function(t,e,n){var i={small:2,medium:4,large:6},r=i.medium;e.exports=function(t){if(!t)return r;var e=t&&"number"==typeof t&&!isNaN(t);return e?t:"string"==typeof t&&t.toLowerCase()in i?i[t]:r}},{}],28:[function(t,e,n){function i(t,e){t.append("title").text(e.title),t.append("desc").text(e.subtitle),t.append("metadata").attr({id:"license"});var n=t.node(),i=n.querySelector("metadata"),u=document.createElement("rdf:RDF"),h=document.createElement("rdf:Description"),d=document.createElement("dc:title"),f=document.createElement("dc:description"),p=document.createElement("dc:format"),m=document.createElement("dc:date");n.setAttribute("xmlns",r),n.setAttributeNS(s,"xmlns:xlink",a),h.setAttribute("rdf:about",""),u.setAttributeNS(s,"xmlns:rdf",o),u.setAttributeNS(s,"xmlns:dc",l),u.setAttributeNS(s,"xmlns:cc",c),d.textContent=e.title,f.textContent=e.subtitle,p.textContent="image/svg+xml",m.textContent=(new Date).toString(),i.appendChild(u),u.appendChild(h),h.appendChild(d),h.appendChild(f),h.appendChild(p),h.appendChild(m)}var r="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xlink",s="http://www.w3.org/2000/xmlns/",o="http://www.w3.org/1999/02/22-rdf-syntax-ns#",l="http://purl.org/dc/elements/1.1/",c="http://creativecommons.org/ns#";e.exports={create:i}},{}],29:[function(t,e,n){function i(t){return!!t}function r(t){var e={key:null,label:null};return t?("string"==typeof t?e.key=e.label=t:Array.isArray(t)&&t.length<=2&&"string"==typeof t[0]?(e.key=t[0],e.label="string"==typeof t[1]?t[1]:e.key):"function"==typeof t?e=t():t.key&&(e.key=t.key,e.label=t.label||e.key),"function"==typeof e.key&&(e.key=e.key()),"function"==typeof e.label&&(e.label=e.label()),e.originalKey=e.key,e):e}function a(t){return t?(Array.isArray(t)?t.map(r):[r(t)]).filter(i):[]}e.exports={normaliseY:a,normalise:r}},{}],30:[function(t,e,n){e.exports="0.4.4"},{}],"o-charts":[function(t,e,n){e.exports={chart:t("./chart/index.js"),axis:t("./axis/index.js"),element:{seriesKey:t("./element/series-key.js"),textArea:t("./element/text-area.js")},util:{attributeStyler:t("./util/chart-attribute-styles.js"),dates:t("./util/dates.js")},version:t("./util/version")}},{"./axis/index.js":5,"./chart/index.js":13,"./element/series-key.js":17,"./element/text-area.js":18,"./util/chart-attribute-styles.js":20,"./util/dates.js":23,"./util/version":30}]},{},["o-charts"]);