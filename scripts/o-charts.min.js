require=function t(e,i,n){function r(a,o){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return r(i?i:t)},u,u.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,e,i){function n(){function t(t){t=t.append("g").attr("transform","translate("+e.xOffset+","+e.yOffset+")"),t.append("g").attr("class","x axis").each(function(){var t=r.select(this);e.axes.forEach(function(i,n){t.append("g").attr("class",0===n?"primary":"secondary").attr("transform","translate(0,"+n*e.lineHeight+")").call(i)}),t.selectAll(".primary text").attr({x:null,y:null,dy:15+e.tickSize}),s(t,!0)}),e.showDomain||t.select("path.domain").remove(),a.removeDuplicates(t,".primary text"),a.removeDuplicates(t,".secondary text"),a.removeOverlapping(t,".primary text"),a.removeOverlapping(t,".secondary text")}var e={axes:[r.svg.axis().orient("bottom")],scale:!1,lineHeight:20,tickSize:5,simple:!1,nice:!1,pixelsPerTick:100,units:["multi"],unitOverride:!1,yOffset:0,xOffset:0,labelWidth:0,showDomain:!1};return t.simple=function(i){return arguments.length?(e.simple=i,t):e.simple},t.nice=function(i){return arguments.length?(e.nice=i,t):e.nice},t.tickSize=function(i){return arguments.length?(e.tickSize=i,t):e.tickSize},t.labelWidth=function(i){return arguments.length?(e.labelWidth=i,t):e.labelWidth},t.lineHeight=function(i){return arguments.length?(e.lineHeight=i,t):e.lineHeight},t.yOffset=function(i){return arguments.length?(e.yOffset=i,t):e.yOffset},t.xOffset=function(i){return arguments.length?(e.xOffset=i,t):e.xOffset},t.scale=function(i,n){if(!arguments.length)return e.axes[0].scale();n=n||["unknown"],e.scale=i;for(var s=[],a=0;a<n.length;a++){var l=n[a];if(o.formatter[l]){var c=r.svg.axis().scale(i).tickFormat(o.formatter[l]).tickSize(e.tickSize,0);s.push(c)}}return e.axes=s,t},t}var r=t("d3"),s=t("../util/chart-attribute-styles"),a=t("../util/labels.js"),o=t("./category.utils.js");e.exports=n},{"../util/chart-attribute-styles":18,"../util/labels.js":23,"./category.utils.js":2,d3:"d3"}],2:[function(t,e,i){var n={unknown:function(t,e){return t},yearly:function(t,e){return t.split(" ")[1]},quarterly:function(t,e){return t.split(" ")[0]},monthly:function(t,e){return t.split(" ")[0]}};e.exports={formatter:n}},{}],3:[function(t,e,i){function n(){function t(t){t=t.append("g").attr("transform","translate("+e.xOffset+","+e.yOffset+")"),t.append("g").attr("class","x axis").each(function(){var t=r.select(this);e.axes.forEach(function(i,n){t.append("g").attr("class",0===n?"primary":"secondary").attr("transform","translate(0,"+n*e.lineHeight+")").call(i)}),t.selectAll(".primary text").attr({x:null,y:null,dy:15+e.tickSize}),l(t)}),e.showDomain||t.select("path.domain").remove(),"days"==a.unitGenerator(e.scale.domain())[0]?s.removeDays(t,".primary text"):s.removeOverlapping(t,".primary text"),s.removeOverlapping(t,".secondary text")}var e={axes:[r.svg.axis().orient("bottom")],scale:!1,lineHeight:20,tickSize:5,simple:!1,nice:!1,pixelsPerTick:100,units:["multi"],unitOverride:!1,yOffset:0,xOffset:0,labelWidth:0,showDomain:!1};return t.simple=function(i){return arguments.length?(e.simple=i,t):e.simple},t.nice=function(i){return arguments.length?(e.nice=i,t):e.nice},t.tickSize=function(i){return arguments.length?(e.tickSize=i,t):e.tickSize},t.labelWidth=function(i){return arguments.length?(e.labelWidth=i,t):e.labelWidth},t.lineHeight=function(i){return arguments.length?(e.lineHeight=i,t):e.lineHeight},t.yOffset=function(i){return arguments.length?(e.yOffset=i,t):e.yOffset},t.xOffset=function(i){return arguments.length?(e.xOffset=i,t):e.xOffset},t.scale=function(i,n){return arguments.length?(e.nice&&i.nice((i.range()[1]-i.range()[0])/e.pixelsPerTick),e.scale=i,e.axes=o.render(i,n,e.tickSize,e.simple),t):e.axes[0].scale()},t}var r=t("d3"),s=t("../util/labels.js"),a=t("../util/dates.js"),o=t("./date.scale.js"),l=t("../util/chart-attribute-styles");e.exports=n},{"../util/chart-attribute-styles":18,"../util/dates.js":20,"../util/labels.js":23,"./date.scale.js":4,d3:"d3"}],4:[function(t,e,i){var n=t("d3"),r=t("../util/dates.js"),s={centuries:n.time.year,decades:n.time.year,years:n.time.year,fullYears:n.time.year,months:n.time.month,weeks:n.time.week,days:n.time.day,hours:n.time.hours},a={centuries:100,decades:10,years:1,fullYears:1,months:1,weeks:1,days:1,hours:1};e.exports={customTicks:function(t,e){var i=t.ticks(s[e],a[e]);i.push(t.domain()[0]),i.push(t.domain()[1]),i.sort(this.dateSort);var n=i.map(r.formatter[e]);return n[n.length-1]==n[n.length-2]&&i.pop(),i},dateSort:function(t,e){return t.getTime()-e.getTime()},render:function(t,e,i,s){e||(e=r.unitGenerator(t.domain(),s));for(var a=[],o=0;o<e.length;o++){var l=e[o];if(r.formatter[l]){var c=s?t.domain():this.customTicks(t,l),u=n.svg.axis().scale(t).tickValues(c).tickFormat(r.formatter[l]).tickSize(i,0);a.push(u)}}return a.forEach(function(e){e.scale(t)}),a}}},{"../util/dates.js":20,d3:"d3"}],5:[function(t,e,i){e.exports={category:t("./category.js"),date:t("./date.js"),number:t("./number.js")}},{"./category.js":1,"./date.js":3,"./number.js":6}],6:[function(t,e,i){function n(){"use strict";function t(t){var e="right"===i.orient()?-i.tickSize():0;t=t.append("g").attr("transform","translate("+(h+e)+","+u+")"),s.render(t,{axes:i,lineHeight:n,hardRules:c,extension:g}),f&&t.selectAll("text").remove(),o(t)}var e=5,i=r.svg.axis().orient("left").tickSize(e,0),n=16,l=[],c=[0],u=0,h=0,d=!1,f=!1,m=100,g=0;return t.tickExtension=function(e){return arguments.length?(g=e,t):g},t.tickSize=function(n){return arguments.length?(i.tickSize(-n),t):e},t.ticks=function(e){return arguments.length?(e.length>0&&(l=e),t):i.ticks()},t.orient=function(e){return arguments.length?(i.orient(e),t):i.orient()},t.simple=function(e){return arguments.length?(d=e,t):d},t.pixelsPerTick=function(e){return arguments.length?(m=e,t):m},t.scale=function(e){if(!arguments.length)return i.scale();if(i.scale(e),l.length>0)i.tickValues(l);else{var n=a.customTicks(i.scale(),m,c,d);i.tickValues(n)}return t},t.hardRules=function(e){return arguments.length?(c=e,t):c},t.yOffset=function(e){return arguments.length?(u=e,t):u},t.xOffset=function(e){return arguments.length?(h=e,t):h},t.tickFormat=function(e){return arguments.length?(i.tickFormat(e),t):i.tickFormat()},t.noLabels=function(e){return arguments.length?(f=e,t):f},t}var r=t("d3"),s=t("./number.labels"),a=t("./number.scale"),o=t("../util/chart-attribute-styles");e.exports=n},{"../util/chart-attribute-styles":18,"./number.labels":7,"./number.scale":8,d3:"d3"}],7:[function(t,e,i){e.exports={isVertical:function(t){return"left"===t.orient()||"right"===t.orient()},arrangeTicks:function(t,e,i,n){var r=this.textWidth(t,e.orient());this.isVertical(e)&&(t.selectAll("text").attr("transform","translate( "+r+", "+-(i/2)+" )"),t.selectAll(".tick").classed("origin",function(t,e){return n.indexOf(t)>-1}))},extendAxis:function(t,e,i){var n=t.selectAll("line");"right"==e.orient()?n.attr("x1",i):n.attr("x1",-i)},textWidth:function(t,e){var i=0;return"right"==e&&t.selectAll("text").each(function(t){i=Math.max(i,Math.ceil(this.getBoundingClientRect().width))}),i},removeDecimals:function(t){var e=0;t.selectAll("text").each(function(t){var i=parseFloat(this.textContent.split(".")[0]),n=parseFloat(this.textContent.split(".")[1]);e+=n,0===i&&0===n&&(this.textContent=0)}),e||t.selectAll("text").each(function(t){this.textContent=this.textContent.split(".")[0]})},render:function(t,e){t.append("g").attr("class",this.isVertical(e.axes)?"y axis left":"x axis").append("g").attr("class","primary").call(e.axes),this.removeDecimals(t),this.arrangeTicks(t,e.axes,e.lineHeight,e.hardRules),this.isVertical(e.axes)&&this.extendAxis(t,e.axes,e.extension)}}},{}],8:[function(t,e,i){e.exports={removeDuplicateTicks:function(t,e){var i=[],n=t.tickFormat();return e=e.filter(function(t){var e=n(t);return i.indexOf(e)>-1?!1:(i.push(e),!0)})},tickIntervalBoundaries:function(t){var e=0;return t.forEach(function(i,n){n<t.length-1&&(e=Math.max(t[n+1]-i,e))}),e},detailedTicks:function(t,e){var i=this.tickCount(t,e),n=t.ticks(i),r=this.tickIntervalBoundaries(n);return t.domain()[0]=Math.ceil(t.domain()[0]/r)*r,t.domain()[1]=Math.floor(t.domain()[1]/r)*r,n.push(t.domain()[1]),n.push(t.domain()[0]),n},simpleTicks:function(t){var e=[],i=t.domain();return Math.min(i[0],i[1])<0&&Math.max(i[0],i[1])>0&&e.push(0),e.push(i[1]),e.push(i[0]),e},tickCount:function(t,e){var i=Math.round((t.range()[1]-t.range()[0])/e);return 2>i?i=3:5>i?i=5:10>i&&(i=10),i},customTicks:function(t,e,i,n){var r=[];return n?r=this.simpleTicks(t):(r=this.detailedTicks(t,e),i.push(t.domain()[1])),r=this.removeDuplicateTicks(t,r)}}},{}],9:[function(t,e,i){function n(){"use strict";function t(t){var e={title:"chart title",subtitle:"chart subtitle (letters)",height:void 0,width:300,chartHeight:300,chartWidth:300,blockPadding:8,data:[],error:function(t){console.log("ERROR: ",t)}};for(var i in t)e[i]=t[i];return e}function e(t){return Math.ceil(t.node().getBoundingClientRect().height)}function i(t){return"translate("+t.left+","+t.top+")"}function n(n){var r=t(n.data()[0]);r.height||(r.height=r.width);var s=n.append("svg").attr({"class":"null-chart",height:r.height,width:r.width}),a=s.append("text").text(r.title+" - PLACE HOLDER CHART");a.attr("transform",i({top:e(a),left:0}));var o=s.append("text").text(r.subtitle);o.attr("transform",i({top:e(a)+e(o),left:0})),s.selectAll("text").attr({fill:"#000",stroke:"none"})}return n}e.exports=n},{}],10:[function(t,e,i){function n(t,e,i,n,s){var a=r(e,n),o=i.columnWidth||1,l=i.timeScale.rangeBand?i.timeScale.rangeBand()/e.y.series.length:o,c=t.append("g").attr("class","series");c.selectAll("rect").data(a).enter().append("rect").attr("class",function(t){return"column "+n.className+(t.value<0?" negative":" positive")}).attr("data-value",function(t){return t.value}).attr("x",function(t){return i.timeScale(t.key)+l*s}).attr("y",function(t){return i.valueScale(Math.max(0,t.value))}).attr("height",function(t){return Math.abs(i.valueScale(t.value)-i.valueScale(0))}).attr("width",o),u(t)}function r(t,e){var i=t.data.map(function(i){return{key:i[t.x.series.key],value:i[e.key]||i.values[0][e.key]}}).filter(function(t){return null!==t.y});return i}function s(t){"use strict";var e=new o("column",Object.create(t.data()[0])),i=e.y.series.length,r=t.append("svg").attr({"class":"graphic line-chart",height:e.height,width:e.width,xmlns:"http://www.w3.org/2000/svg",version:"1.2"});l.create(r,e);var s=new c(r,e);s.addHeader(),s.addFooter();var u=r.append("g").attr("class","chart");u.attr("transform",e.translate(e.chartPosition));var h=new a(u,e);h.addValueScale(),e.groupDates?h.addGroupedTimeScale(e.groupDates):h.addTimeScale(),h.repositionAxis();for(var d=u.append("g").attr("class","plot");i--;)n(d,e,h,e.y.series[i],i)}var a=t("../util/draw-axes.js"),o=t("../util/data.model.js"),l=t("../util/metadata.js"),c=t("../util/dressing.js"),u=t("../util/chart-attribute-styles");e.exports=s},{"../util/chart-attribute-styles":18,"../util/data.model.js":19,"../util/draw-axes.js":21,"../util/dressing.js":22,"../util/metadata.js":26}],11:[function(t,e,i){e.exports={line:t("./line.js"),blank:t("./blank.js"),pie:t("./pie.js"),column:t("./column.js")}},{"./blank.js":9,"./column.js":10,"./line.js":12,"./pie.js":13}],12:[function(t,e,i){function n(t,e,i,n){var r=e.data.map(function(t){return{x:t[e.x.series.key],y:t[n.key]||t.values[0][n.key]}}).filter(function(t){return null!==t.y}),a=s.svg.line().interpolate(o.gappedLine).x(function(t){return i.timeScale(t.x)}).y(function(t){return i.valueScale(t.y)});t.append("path").datum(r).attr("class","line "+n.className).attr("stroke-width",e.lineStrokeWidth).attr("d",function(t){return a(t)}),h(t)}function r(t){"use strict";var e=new l("line",Object.create(t.data()[0])),i=t.append("svg").attr({"class":"graphic line-chart",height:e.height,width:e.width,xmlns:"http://www.w3.org/2000/svg",version:"1.2"});c.create(i,e);var r=new u(i,e);r.addHeader(),r.addFooter();var s=i.append("g").attr("class","chart");s.attr("transform",e.translate(e.chartPosition));var o=new a(s,e);o.addValueScale(),e.groupDates?o.addGroupedTimeScale(e.groupDates):o.addTimeScale(),o.repositionAxis();for(var h=s.append("g").attr("class","plot"),d=e.y.series.length;d--;)n(h,e,o,e.y.series[d])}var s=t("d3"),a=t("../util/draw-axes.js"),o=t("../util/line-interpolators.js"),l=t("../util/data.model.js"),c=t("../util/metadata.js"),u=t("../util/dressing.js"),h=t("../util/chart-attribute-styles");e.exports=r},{"../util/chart-attribute-styles":18,"../util/data.model.js":19,"../util/draw-axes.js":21,"../util/dressing.js":22,"../util/line-interpolators.js":24,"../util/metadata.js":26,d3:"d3"}],13:[function(t,e,i){function n(){"use strict";function t(t){var e={title:"chart title",height:void 0,width:300,chartHeight:300,chartWidth:300,indexProperty:"&",valueProperty:"value",blockPadding:8,data:[],error:function(t){console.log("ERROR: ",t)}};for(var i in t)e[i]=t[i];return e}function e(t){return Math.ceil(t.node().getBoundingClientRect().height)}function i(t){return"translate("+t.left+","+t.top+")"}function n(n){var r=t(n.data()[0]);r.height||(r.height=r.width);var s=n.append("svg").attr({"class":"null-chart",height:r.height,width:r.width}),a=s.append("text").text(r.title+" - PLACE HOLDER CHART");a.attr("transform",i({top:e(a),left:0}));var o=s.append("text").text(r.subtitle);o.attr("transform",i({top:e(a)+e(o),left:0}));var l=s.append("g").attr("class","chart");r.data.length>3&&r.error("PIE warning: too many segments!");r.width/2;l.selectAll(".slice").data(r.data).enter(),s.selectAll("text").attr({fill:"#000",stroke:"none"})}return n}e.exports=n},{}],14:[function(t,e,i){function n(t,e){"use strict";e||(e=32);var i="M21.777,53.336c0,6.381,1.707,7.1,8.996,7.37v2.335H1.801v-2.335c6.027-0.27,7.736-0.989,7.736-7.37v-41.67 c0-6.387-1.708-7.104-7.556-7.371V1.959h51.103l0.363,13.472h-2.519c-2.16-6.827-4.502-8.979-16.467-8.979h-9.27 c-2.785,0-3.415,0.624-3.415,3.142v19.314h4.565c9.54,0,11.61-1.712,12.779-8.089h2.338v21.559h-2.338 c-1.259-7.186-4.859-8.981-12.779-8.981h-4.565V53.336z M110.955,1.959H57.328l-1.244,13.477h3.073c1.964-6.601,4.853-8.984,11.308-8.984h7.558v46.884 c0,6.381-1.71,7.1-8.637,7.37v2.335H98.9v-2.335c-6.931-0.27-8.64-0.989-8.64-7.37V6.453h7.555c6.458,0,9.351,2.383,11.309,8.984 h3.075L110.955,1.959z",n=t.append("path").attr("d",i),r=n.node().getBoundingClientRect(),s=Math.min(e/r.width,e/r.height);n.attr({transform:"scale("+s+")",fill:"rgba(0,0,0,0.1)"})}e.exports=n},{}],15:[function(t,e,i){function n(t){"use strict";function e(t,e){t.append("line").attr({"class":h,x1:1,y1:-5,x2:o,y2:-5}).attr("stroke-width",c).classed("key__line",!0)}function i(t,e){t.append("rect").attr({"class":h,x:1,y:-10,width:o,height:10}).classed("key__column",!0)}function n(e){var i=u[t.chartType];e=e.append("g").attr("class","key");var n=e.selectAll("g").data(e.datum().filter(f)).enter().append("g").attr({"class":"key__item",transform:function(t,e){return"translate(0,"+(l+e*l)+")"}});i(n,d),n.append("text").attr({"class":"key__label",x:o+10}).text(d),s(e)}t=t||{};var a=300,o=15,l=16,c=r(t.lineThickness),u={line:e,column:i},h=function(t){return t.style},d=function(t){return t.label},f=function(){return!0};return n.label=function(t){return arguments.length?(d=t,n):d},n.style=function(t){return arguments.length?(h=t,n):h},n.width=function(t){return arguments.length?(a=t,n):a},n.lineHeight=function(t){return arguments.length?(l=t,n):l},n}var r=t("../util/line-thickness.js"),s=t("../util/chart-attribute-styles");e.exports=n},{"../util/chart-attribute-styles":18,"../util/line-thickness.js":25}],16:[function(t,e,i){function n(){"use strict";function t(t,e){t.each(function(){var t,i=r.select(this),n=i.text().trim().split(/\s+/).reverse(),s=[],a=0,c=i.attr("y"),u=parseFloat(i.attr("dy"));isNaN(u)&&(u=0);for(var h=i.text(null).append("tspan").attr("x",0).attr("y",c).attr("dy",u+l);t=n.pop();)if(s.push(t),h.text(s.join(" ")),h.node().getComputedTextLength()>e){s.pop(),h.text(s.join(" ")),s=[t],a++;var d=a*o;h=i.append("tspan").attr("x",0).attr("y",c).attr("y",+d+l).text(t)}})}function e(e,r){r||(r=function(t){return t}),e=e.append("g").attr("transform","translate("+n+","+s+")"),e.append("text").text(r).call(t,a),i=e.node().getBoundingClientRect()}var i,n=0,s=0,a=1e3,o=20,l="px";return e.bounds=function(){return i},e.units=function(t){return arguments.length?(l=t,e):l},e.lineHeight=function(t){return arguments.length?(o=t,e):o},e.width=function(t){return arguments.length?(a=t,e):a},e.yOffset=function(t){return arguments.length?(s=t,e):s},e.xOffset=function(t){return arguments.length?(s=t,e):s},e}var r=t("d3");e.exports=n},{d3:"d3"}],17:[function(t,e,i){function n(t){if(t){if(t in r)return r[t];if("string"==typeof t){var e=t.split(":");return{width:e[0],height:e[1]}}return t}}var r={square:{width:1,height:1},standard:{width:4,height:3},golden:{width:1.618,height:1},classicPhoto:{width:3,height:2},widescreen:{width:16,height:9},panoramic:{width:2.39,height:1}};e.exports={commonRatios:r,widthFromHeight:function(t,e){if(e=n(e),!e)throw new Error("Ratio is falsey");if("number"==typeof e)return t*e;if(!e.height||!e.width)throw new Error("Ratio must have width and height values");return e=e.width/e.height,Math.ceil(t*e)},heightFromWidth:function(t,e){if(e=n(e),!e)throw new Error("Ratio is falsey");if("number"==typeof e)return t*e;if(!e.height||!e.width)throw new Error("Ratio must have width and height values");return e=e.height/e.width,Math.ceil(t*e)}}},{}],18:[function(t,e,i){function n(t,e){var i=[{selector:"svg text",attributes:{"font-family":"BentonSans, sans-serif",fill:"#a7a59b",stroke:"none"}},{selector:".axis path, .axis line",attributes:{"shape-rendering":"crispEdges",fill:"none"}},{selector:".y.axis path.domain, .secondary path.domain, .secondary .tick line",attributes:{stroke:"none"}},{selector:".y.axis .tick line",attributes:{"stroke-dasharray":"2 2"}},{selector:".y.axis .origin line",attributes:{stroke:"#333","stroke-dasharray":"none"}},{selector:".y.axis .origin.tick line",attributes:{stroke:"#333","stroke-dasharray":"none"}},{selector:".primary .tick text",attributes:{"font-size":12,fill:"#757470"}},{selector:".secondary .tick text",attributes:{"font-size":10,fill:"#757470"}},{selector:".primary .tick line",attributes:{stroke:"#a7a59b"}},{selector:".y.axis.right text",attributes:{"text-anchor":"start"}},{selector:".y.axis.left text",attributes:{"text-anchor":"end"}},{selector:".x.axis .primary path.domain",attributes:{stroke:"#757470"}},{selector:"path.line, line.key__line",attributes:{fill:"none","stroke-linejoin":"round","stroke-linecap":"round"}},{selector:".line--series1",attributes:{stroke:"#af516c"}},{selector:".line--series2",attributes:{stroke:"#ecafaf"}},{selector:".line--series3",attributes:{stroke:"#d7706c"}},{selector:".line--series4",attributes:{stroke:"#76acb8"}},{selector:".line--series5",attributes:{stroke:"#81d0e6"}},{selector:".line--series6",attributes:{stroke:"#4086b6"}},{selector:".line--series7",attributes:{stroke:"#b8b1a9"}},{selector:"path.accent, line.accent",attributes:{stroke:"rgb(184,177,169)"}},{selector:".column, .key__column",attributes:{stroke:"none"}},{selector:".column--series1",attributes:{fill:"#af516c"}},{selector:".column--series2",attributes:{fill:"#ecafaf"}},{selector:".column--series3",attributes:{fill:"#d7706c"}},{selector:".column--series4",attributes:{fill:"#76acb8"}},{selector:".column--series5",attributes:{fill:"#81d0e6"}},{selector:".column--series6",attributes:{fill:"#4086b6"}},{selector:".column--series7",attributes:{fill:"#b8b1a9"}},{selector:"path.accent, line.accent",attributes:{stroke:"rgb(184,177,169)"}},{selector:".chart-title text, .chart-title tspan",attributes:{"font-family":"BentonSans, sans-serif","font-size":18,fill:"rgba(0, 0, 0, 0.8)"}},{selector:".chart-subtitle text, .chart-subtitle tspan",attributes:{"font-family":"BentonSans, sans-serif","font-size":12,fill:"rgba(0, 0, 0, 0.5)"}},{selector:".chart-source text, .chart-source tspan",attributes:{"font-family":"BentonSans, sans-serif","font-size":10,fill:"rgba(0, 0, 0, 0.5)"}},{selector:".chart-footnote text, .chart-footnote tspan",attributes:{"font-family":"BentonSans, sans-serif","font-size":12,fill:"rgba(0, 0, 0, 0.5)"}},{selector:"text.key__label",attributes:{"font-family":"BentonSans, sans-serif","font-size":12,fill:"rgba(0, 0, 0, 0.5)"}}];return e||(t||r).selectAll("*").attr("style",null),i.forEach(function(e,i){(t||r).selectAll(e.selector).attr(e.attributes)}),!0}var r=t("d3");e.exports=n},{d3:"d3"}],19:[function(t,e,i){function n(t){return t&&t instanceof Date&&!isNaN(+t)}function r(t){return function(e){var i=e.left||0,n=e.top||0;return"translate("+(t+i)+","+n+")"}}function s(t){if(t.chartWidth)return t.chartWidth;var e=t.contentWidth<260?16:26;return t.contentWidth-e}function a(t){var e=[];return t.y.series.forEach(function(i){var n=i.key;t.data=t.data.map(function(e,i){var r=t.groupDates?e.values[0][n]:e[n],s=null===r||"number"==typeof r;return s||t.error({node:null,message:"Value is not a number",value:r,row:i,column:n}),e});var r=g.extent(t.data,function(e){return t.groupDates?e.values[0][n]:e[n]});e=e.concat(r)}),e}function o(t){return t.timeDomain?t.timeDomain:t.data.map(function(e){return e[t.x.series.key]})}function l(t){return t.timeDomain?t.timeDomain:g.extent(t.data,function(e){return e[t.x.series.key]})}function c(t){if(t.valueDomain)return t.valueDomain;var e=a(t),i=g.extent(e);return!t.falseOrigin&&i[0]>0&&(i[0]=0),i}function u(t){if(t.chartHeight)return t.chartHeight;var e=t.chartWidth<220,i=t.chartWidth>400,n=e?1.1:i?x.commonRatios.widescreen:x.commonRatios.standard;return x.heightFromWidth(t.chartWidth,n)}function h(t){return Array.isArray(t.data)?t.data.map(function(e,i){var r=e[t.x.series.key],s={node:null,message:"",row:i,column:t.x.series.key,value:r};return e?r?n(r)||(s.message="Value is not a valid date"):s.message="X axis value is empty or null":s.message="Empty row",s.message&&(t.error(s),e[t.x.series.key]=null),e}):[]}function d(t){var e=t.key;return"boolean"!=typeof t.key?e=t.y.series.length>1:t.key&&!t.y.series.length&&(e=!1),e}function f(t,e){var i,n=0;return t.data=g.nest().key(function(r){return i=i||r[t.x.series.key],y.formatter[e[0]](r[t.x.series.key],n++,i)}).entries(t.data),t.x.series.key="key",t.data}function m(t,e){var i={line:["line--series1","line--series2","line--series3","line--series4","line--series5","line--series6","line--series7","accent"],column:["column--series1","column--series2","column--series3","column--series4","column--series5","column--series6","column--series7","accent"]},n={chartType:t,height:void 0,tickSize:5,width:300,chartHeight:void 0,chartWidth:void 0,simpleDate:!1,simpleValue:!1,logoSize:28,falseOrigin:!1,error:this.error,lineClasses:{},columnClasses:{},niceValue:!0,hideSource:!1,numberAxisOrient:"left",margin:2,lineThickness:void 0,x:{series:"&"},y:{series:[]},labelLookup:null,sourcePrefix:"Source: "};for(var a in e)n[a]=e[a];return n.x.series=v.normalise(n.x.series),n.y.series=v.normaliseY(n.y.series).filter(function(t){return!!t.key&&t.key!==n.x.series.key}).map(function(e,n){return e.index=n,e.className=i[t][n],e}),n.contentWidth=n.width-2*n.margin,n.chartWidth=s(n),n.chartHeight=u(n),n.translate=r(0),n.data=h(n),n.groupDates?(n.data=f(n,n.groupDates),n.timeDomain=o(n)):n.timeDomain=l(n),n.valueDomain=c(n),n.lineStrokeWidth=p(n.lineThickness),n.key=d(n),n}var g=t("d3"),p=t("../util/line-thickness.js"),x=t("../util/aspect-ratios.js"),v=t("../util/series-options.js"),y=t("../util/dates.js");m.prototype.error=function(t){console.log("ERROR: ",t)},e.exports=m},{"../util/aspect-ratios.js":17,"../util/dates.js":20,"../util/line-thickness.js":25,"../util/series-options.js":27,d3:"d3"}],20:[function(t,e,i){function n(t,e){var i,n=t[1].getTime()-t[0].getTime(),r=864e5;return i=2*r>n?["hours","days","months"]:60*r>n?["days","months"]:365.25*r>n?["months","years"]:365.25*r*15>n?["years"]:365.25*r*150>n?["decades"]:365.25*r*1e3>n?["centuries"]:["multi"],e&&(i.indexOf("years")>-1||i.indexOf("decades")||i.indexOf("centuries"))&&(i=["fullYears"]),i}var r=t("d3"),s={centuries:function(t,e){return 0===e||t.getYear()%100===0?r.time.format("%Y")(t):r.time.format("%y")(t)},decades:function(t,e){return 0===e||t.getYear()%100===0?r.time.format("%Y")(t):r.time.format("%y")(t)},years:function(t,e){return 0===e||t.getYear()%100===0?r.time.format("%Y")(t):r.time.format("%y")(t)},fullYears:function(t,e){return r.time.format("%Y")(t)},yearly:function(t,e){return s.years(t,e)},quarterly:function(t,e,i){var n=i&&s.years(i,e)==s.years(t,e)?"fullYears":"years";return"Q"+Math.floor((t.getMonth()+3)/3)+" "+s[n](t,e)},monthly:function(t,e){return s.months(t,e)+" "+s.fullYears(t,e)},shortmonths:function(t,e){return r.time.format("%b")(t)[0]},months:function(t,e){return r.time.format("%b")(t)},weeks:function(t,e){return r.time.format("%e %b")(t)},days:function(t,e){return r.time.format("%e")(t)},hours:function(t,e){return parseInt(r.time.format("%H")(t))+":00"}};e.exports={formatter:s,unitGenerator:n}},{d3:"d3"}],21:[function(t,e,i){function n(t){return Math.ceil(t.node().getBoundingClientRect().height)}function r(t){return Math.ceil(t.node().getBoundingClientRect().width)}function s(t,e){this.model=e,this.svg=t,this.margin=.2,this.tickExtender=1.5}var a=t("d3"),o=t("../axis/category.js"),l=t("../axis/date.js"),c=t("../axis/number.js");s.prototype.rearrangeLabels=function(){var t=this.model,e=this.timeScale.domain().length===this.svg.selectAll(".x.axis .primary text")[0].length,i=Math.min.apply(null,this.valueScale.domain())>=0;e&&i?this.timeAxis.tickSize(0).scale(this.timeScale,this.units):e||(this.timeAxis.tickSize(t.tickSize*this.tickExtender).scale(this.timeScale,["yearly"]),this.svg.call(this.timeAxis))},s.prototype.getColumnWidth=function(){var t=this.model,e=t.chartWidth-(r(this.svg)-t.chartWidth),i=this.timeScale.rangeBand?this.timeScale.rangeBand():a.scale.ordinal().domain(t.data.map(function(e){return e[t.x.series.key]})).rangeRoundBands([0,e],0,this.margin).rangeBand()/2;return i/t.y.series.length},s.prototype.addGroupedTimeScale=function(t){var e=this.model;this.units=t;var i=e.chartWidth-(r(this.svg)-e.chartWidth);this.timeScale=a.scale.ordinal().domain(e.timeDomain).rangeRoundBands([0,i],0,this.margin),this.columnWidth=this.getColumnWidth(),this.timeAxis=o().simple(e.simpleDate).yOffset(e.chartHeight).tickSize(e.tickSize).scale(this.timeScale,t),this.svg.call(this.timeAxis),this.rearrangeLabels()},s.prototype.addTimeScale=function(){var t=this.model;this.timeScale=a.time.scale().domain(t.timeDomain).range([0,t.chartWidth]),this.columnWidth=this.getColumnWidth(),this.timeAxis=l().simple(t.simpleDate).yOffset(t.chartHeight).scale(this.timeScale),this.svg.call(this.timeAxis)},s.prototype.addValueScale=function(){var t=this.model;this.valueScale=a.scale.linear().domain(t.valueDomain.reverse()).range([0,t.chartHeight]),t.niceValue&&this.valueScale.nice(),this.vAxis=c().tickFormat(t.numberAxisFormatter).simple(t.simpleValue).tickSize(t.chartWidth).scale(this.valueScale),"right"!==t.numberAxisOrient&&"left"!==t.numberAxisOrient?this.vAxis.noLabels(!0):this.vAxis.orient(t.numberAxisOrient),this.svg.call(this.vAxis)},s.prototype.reduceExtendedTicks=function(){var t=this.model,e=this,i='.x.axis .tick line[y2="'+t.tickSize*this.tickExtender+'"]';this.svg.selectAll(i).attr("y2",function(i){return i.toString().indexOf("Q1")<0?t.tickSize:t.tickSize*e.tickExtender})},s.prototype.repositionAxis=function(){var t=this.model,e=n(this.svg)-t.chartHeight,i=r(this.svg)-t.chartWidth,s=t.chartHeight-e,o=t.chartWidth-i,l=0;this.valueScale.range([this.valueScale.range()[0],s]),this.timeAxis.yOffset(s),this.vAxis.tickSize(o).tickExtension(i),this.timeScale.rangeRoundBands?this.timeScale.rangeRoundBands([0,o],this.margin):this.timeScale.range([this.timeScale.range()[0],o]),this.columnWidth=this.getColumnWidth(),this.svg.selectAll("*").remove(),this.svg.call(this.vAxis),this.svg.call(this.timeAxis),this.reduceExtendedTicks(),"right"!==t.numberAxisOrient&&(this.svg.selectAll(".y.axis text").each(function(){l=Math.max(l,r(a.select(this)))}),t.chartPosition.left+=l+4),t.chartPosition.top+=n(this.svg.select(".y.axis"))-s,t.plotWidth=o,t.plotHeight=s,this.svg.attr("transform",t.translate(t.chartPosition))},e.exports=s},{"../axis/category.js":1,"../axis/date.js":3,"../axis/number.js":6,d3:"d3"}],22:[function(t,e,i){function n(t){return Math.ceil(t.node().getBoundingClientRect().height)}function r(t,e){this.svg=t,this.model=e,this.blockPadding=8,this.defaultLineHeight=1.2,this.titleFontSize=18,this.footerLineHeight=15,this.subtitleFontSize=12,this.sourceFontSize=10,this.halfLineStrokeWidth=Math.ceil(e.lineStrokeWidth/2),this.headerHeight=0,this.footerHeight=0,this.sourceFontOffset=0}var s=t("../element/text-area.js"),a=t("../element/series-key.js"),o=t("../element/logo.js");r.prototype.addHeader=function(){this.addTitle(),this.addSubTitle(),this.addSeriesKey(),this.setPosition()},r.prototype.addFooter=function(){this.addFootNotes(),this.addSource(),this.setHeight(),this.addLogo()},r.prototype.addLogo=function(){var t=this.svg,e=this.model,i=t.append("g").attr("class","chart-logo").call(o,e.logoSize),r=3,s=e.height-n(i)-r-this.getSourceFontOffset();i.attr("transform",e.translate({left:e.width-e.logoSize,top:s}))},r.prototype.addSubTitle=function(){var t=this.svg,e=this.model,i=this.defaultLineHeight,r=Math.ceil(this.subtitleFontSize*i),a=s().width(e.contentWidth).lineHeight(r),o=t.append("g").attr("class","chart-subtitle").datum(e.subtitle).call(a);this.subtitlePosition||(e.subtitle?(this.subtitlePosition={top:this.headerHeight+this.subtitleFontSize,left:0},this.headerHeight+=n(o)+this.blockPadding):this.subtitlePosition={top:this.headerHeight,left:0}),o.attr("transform",e.translate(this.subtitlePosition))},r.prototype.addTitle=function(){var t=this.svg,e=this.model,i=this.defaultLineHeight,r=Math.ceil(this.titleFontSize*i),a=r-this.titleFontSize,o=s().width(e.contentWidth).lineHeight(r),l=t.append("g").attr("class","chart-title").datum(e.title).call(o);this.titlePosition||(e.title?(this.titlePosition={top:this.headerHeight+this.titleFontSize,left:0},this.headerHeight+=n(l)+this.blockPadding-a):this.titlePosition={top:this.headerHeight,left:0}),l.attr("transform",e.translate(this.titlePosition))},r.prototype.addSeriesKey=function(){var t=this.svg,e=this.model;if(e.key){var i=a({lineThickness:e.lineStrokeWidth,chartType:e.chartType}).style(function(t){return t.value}).label(function(t){return t.key}),r=e.y.series.map(function(t){return{key:t.label,value:t.className}}),s=t.append("g").attr("class","chart__key").datum(r).call(i);this.keyPosition||(this.keyPosition={top:this.headerHeight,left:this.halfLineStrokeWidth},this.headerHeight+=n(s)+this.blockPadding),s.attr("transform",e.translate(this.keyPosition))}},r.prototype.addFootNotes=function(){var t=this.svg,e=this.model,i=s().width(this.model.contentWidth-this.model.logoSize).lineHeight(this.footerLineHeight),r=t.append("g").attr("class","chart-footnote").datum(e.footnote).call(i),a=n(r),o=Math.max(a+2*this.blockPadding,e.logoSize),l=e.chartPosition.top+e.chartHeight;r.attr("transform",e.translate({top:l+this.footerLineHeight+this.blockPadding})),this.footerHeight+=o+this.blockPadding},r.prototype.addSource=function(){var t=this.svg,e=this.model,i=s().width(this.model.contentWidth-this.model.logoSize).lineHeight(this.footerLineHeight),r=this.defaultLineHeight,a=this.sourceFontSize*r,o=t.append("g").attr("class","chart-source").datum(e.sourcePrefix+e.source).call(i),l=n(o),c=e.chartPosition.top+e.chartHeight;o.attr("transform",e.translate({top:this.footerHeight+c+this.blockPadding})),e.hideSource&&o.remove(),this.sourceFontOffset=a-this.sourceFontSize,
this.footerHeight+=l},r.prototype.getSourceFontOffset=function(){return this.sourceFontOffset},r.prototype.setHeight=function(){var t=this.model;t.height?(t.chartHeight=t.height-this.headerHeight-this.footerHeight,t.chartHeight<0&&t.error({message:"calculated plot height is less than zero"})):t.height=this.headerHeight+t.chartHeight+this.footerHeight,this.svg.attr("height",Math.ceil(t.height))},r.prototype.setPosition=function(){this.model.chartPosition={top:this.headerHeight+this.halfLineStrokeWidth,left:"left"===this.model.numberAxisOrient?0:this.halfLineStrokeWidth}},e.exports=r},{"../element/logo.js":14,"../element/series-key.js":15,"../element/text-area.js":16}],23:[function(t,e,i){var n=t("d3");e.exports={intersection:function(t,e){var i=t.left<=e.right&&e.left<=t.right&&t.top<=e.bottom&&e.top<=t.bottom;return i},overlapping:function(t){var e=this,i=[],n=!1;return t.each(function(t,r){var s=this.getBoundingClientRect(),a=!0;i.forEach(function(t,i){e.intersection(t,s)&&(a=!1,n=!0)}),a&&i.push(s)}),n},removeDays:function(t,e){function i(t,e){var i=n.select(this);0!==e&&e!==s-1&&1!=i.text()&&i.remove()}var r=t.selectAll(e),s=r[0].length;r.each(i)},removeOverlapping:function(t,e){function i(t,e){var i=e===a-1,o=s[0][a-2],l=i&&r.intersection(o.getBoundingClientRect(),this.getBoundingClientRect());i&&l?n.select(o).remove():e%2===0||i||n.select(this).remove()}for(var r=this,s=t.selectAll(e),a=s[0].length,o=5;r.overlapping(t.selectAll(e))&&o>0;)o--,t.selectAll(e).each(i),s=t.selectAll(e),a=s[0].length},removeDuplicates:function(t,e){function i(t,e){if(0!==e){var i=n.select(this),s=r[0][e-1];i.text()===n.select(s).text()&&i.remove()}}var r=t.selectAll(e);r.each(i)}}},{d3:"d3"}],24:[function(t,e,i){function n(t){"use strict";var e=0,i=[[]];t.forEach(function(t,n){isNaN(t[1])?(1==i[e].length&&console.log("warning: Found a line fragment which is a single point this won't be drawn"),e++,i[e]=[]):i[e].push(t)});var n=[];i.forEach(function(t){n.push(r.svg.line()(t))});var s=n.join("");return s.substr(1)}var r=t("d3");e.exports={gappedLine:n}},{d3:"d3"}],25:[function(t,e,i){var n={small:2,medium:4,large:6},r=n.medium;e.exports=function(t){if(!t)return r;var e=t&&"number"==typeof t&&!isNaN(t);return e?t:"string"==typeof t&&t.toLowerCase()in n?n[t]:r}},{}],26:[function(t,e,i){function n(t,e){t.append("title").text(e.title),t.append("desc").text(e.subtitle),t.append("metadata").attr({id:"license"});var i=t.node(),n=i.querySelector("metadata"),u=document.createElement("rdf:RDF"),h=document.createElement("rdf:Description"),d=document.createElement("dc:title"),f=document.createElement("dc:description"),m=document.createElement("dc:format"),g=document.createElement("dc:date");i.setAttribute("xmlns",r),i.setAttributeNS(a,"xmlns:xlink",s),h.setAttribute("rdf:about",""),u.setAttributeNS(a,"xmlns:rdf",o),u.setAttributeNS(a,"xmlns:dc",l),u.setAttributeNS(a,"xmlns:cc",c),d.textContent=e.title,f.textContent=e.subtitle,m.textContent="image/svg+xml",g.textContent=(new Date).toString(),n.appendChild(u),u.appendChild(h),h.appendChild(d),h.appendChild(f),h.appendChild(m),h.appendChild(g)}var r="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xlink",a="http://www.w3.org/2000/xmlns/",o="http://www.w3.org/1999/02/22-rdf-syntax-ns#",l="http://purl.org/dc/elements/1.1/",c="http://creativecommons.org/ns#";e.exports={create:n}},{}],27:[function(t,e,i){function n(t){return!!t}function r(t){var e={key:null,label:null};return t?("string"==typeof t?e.key=e.label=t:Array.isArray(t)&&t.length<=2&&"string"==typeof t[0]?(e.key=t[0],e.label="string"==typeof t[1]?t[1]:e.key):"function"==typeof t?e=t():t.key&&(e.key=t.key,e.label=t.label||e.key),"function"==typeof e.key&&(e.key=e.key()),"function"==typeof e.label&&(e.label=e.label()),e):e}function s(t){return t?(Array.isArray(t)?t.map(r):[r(t)]).filter(n):[]}e.exports={normaliseY:s,normalise:r}},{}],28:[function(t,e,i){e.exports="0.1.0"},{}],"o-charts":[function(t,e,i){e.exports={chart:t("./chart/index.js"),axis:t("./axis/index.js"),element:{seriesKey:t("./element/series-key.js"),textArea:t("./element/text-area.js")},util:{attributeStyler:t("./util/chart-attribute-styles.js")},version:t("./util/version")}},{"./axis/index.js":5,"./chart/index.js":11,"./element/series-key.js":15,"./element/text-area.js":16,"./util/chart-attribute-styles.js":18,"./util/version":28}]},{},["o-charts"]);