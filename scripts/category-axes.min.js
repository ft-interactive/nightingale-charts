function drawDemo(e){d3.select("#column-chart__"+e).append("svg").attr("width",function(e){var a=margin.left+margin.right;if("bottom"==e.orient){var t=e.scale.range();a+=t[t.length-1]-t[0]}return a}).attr("height",function(e){var a=margin.top+margin.bottom;if("left"==e.orient){var t=e.scale.range();a+=t[0]+t[t.length-1]}return a}).each(function(e,a){var t=oCharts.axis.category().dataType(e.dataType).orient(e.orient).scale(e.scale,e.units);d3.select(this).append("g").attr("transform","translate("+margin.left+","+margin.top+")").call(t)})}var oCharts=require("../../src/scripts/o-charts"),dateUtils=oCharts.util.dates,d3=require("d3"),margin={top:20,left:50,bottom:40,right:75},fixtures={days:[{date:new Date("5/07/2014"),value:.368069},{date:new Date("5/08/2014"),value:.472146},{date:new Date("5/09/2014"),value:.743529},{date:new Date("5/10/2014"),value:.600043},{date:new Date("5/11/2014"),value:.301624},{date:new Date("5/12/2014"),value:.277067},{date:new Date("5/13/2014"),value:-.239283},{date:new Date("5/14/2014"),value:.619157},{date:new Date("5/15/2014"),value:.090189}],"many-days":[{date:new Date("5/07/2014"),value:.368069},{date:new Date("5/08/2014"),value:.472146},{date:new Date("5/09/2014"),value:.743529},{date:new Date("5/10/2014"),value:.600043},{date:new Date("5/11/2014"),value:.301624},{date:new Date("5/12/2014"),value:.277067},{date:new Date("5/13/2014"),value:-.239283},{date:new Date("5/14/2014"),value:.619157},{date:new Date("5/16/2014"),value:.090189},{date:new Date("5/17/2014"),value:.090189},{date:new Date("5/18/2014"),value:.090189},{date:new Date("5/19/2014"),value:.090189},{date:new Date("5/20/2014"),value:.090189},{date:new Date("5/21/2014"),value:.090189},{date:new Date("5/22/2014"),value:.090189},{date:new Date("5/23/2014"),value:.090189},{date:new Date("5/24/2014"),value:.090189},{date:new Date("5/25/2014"),value:.090189},{date:new Date("5/26/2014"),value:.090189},{date:new Date("5/27/2014"),value:.090189},{date:new Date("5/28/2014"),value:.090189},{date:new Date("5/29/2014"),value:.090189},{date:new Date("5/30/2014"),value:.090189},{date:new Date("5/31/2014"),value:.090189},{date:new Date("6/01/2014"),value:.090189},{date:new Date("6/02/2014"),value:.090189},{date:new Date("6/03/2014"),value:.090189},{date:new Date("6/04/2014"),value:.090189},{date:new Date("6/05/2014"),value:.090189},{date:new Date("6/06/2014"),value:.090189},{date:new Date("6/07/2014"),value:.090189},{date:new Date("6/08/2014"),value:.090189},{date:new Date("6/09/2014"),value:.090189},{date:new Date("6/10/2014"),value:.090189},{date:new Date("6/11/2014"),value:.090189},{date:new Date("6/12/2014"),value:.090189},{date:new Date("6/13/2014"),value:.090189},{date:new Date("6/14/2014"),value:.090189}],weeks:[{date:new Date("5/07/2014"),value:.368069},{date:new Date("5/14/2014"),value:.472146},{date:new Date("5/21/2014"),value:.743529},{date:new Date("5/28/2014"),value:.600043},{date:new Date("6/04/2014"),value:.301624},{date:new Date("6/11/2014"),value:.277067},{date:new Date("6/18/2014"),value:-.239283},{date:new Date("6/25/2014"),value:.619157},{date:new Date("7/02/2014"),value:.090189}],"many-weeks":[{date:new Date("5/07/2014"),value:.368069},{date:new Date("5/14/2014"),value:.472146},{date:new Date("5/21/2014"),value:.743529},{date:new Date("5/28/2014"),value:.600043},{date:new Date("6/04/2014"),value:.301624},{date:new Date("6/11/2014"),value:.277067},{date:new Date("6/18/2014"),value:-.239283},{date:new Date("6/25/2014"),value:.619157},{date:new Date("7/02/2014"),value:.090189},{date:new Date("7/09/2014"),value:.090189},{date:new Date("7/16/2014"),value:.090189},{date:new Date("7/23/2014"),value:.090189},{date:new Date("7/30/2014"),value:.090189},{date:new Date("8/06/2014"),value:.090189},{date:new Date("8/13/2014"),value:.090189},{date:new Date("8/20/2014"),value:.090189},{date:new Date("8/27/2014"),value:.090189},{date:new Date("9/03/2014"),value:.090189},{date:new Date("9/10/2014"),value:.090189},{date:new Date("9/17/2014"),value:.090189},{date:new Date("9/24/2014"),value:.090189},{date:new Date("10/1/2014"),value:.090189},{date:new Date("10/8/2014"),value:.090189},{date:new Date("10/15/2014"),value:.090189},{date:new Date("10/22/2014"),value:.090189},{date:new Date("10/29/2014"),value:.090189},{date:new Date("11/05/2014"),value:.090189},{date:new Date("11/12/2014"),value:.090189},{date:new Date("11/19/2014"),value:.090189},{date:new Date("11/26/2014"),value:.090189},{date:new Date("12/03/2014"),value:.090189},{date:new Date("12/10/2014"),value:.090189},{date:new Date("12/17/2014"),value:.090189},{date:new Date("12/24/2014"),value:.090189},{date:new Date("12/31/2014"),value:.090189},{date:new Date("1/07/2015"),value:.090189},{date:new Date("1/14/2015"),value:.090189},{date:new Date("1/21/2015"),value:.090189},{date:new Date("1/28/2015"),value:.090189},{date:new Date("2/04/2015"),value:.090189},{date:new Date("2/11/2015"),value:.090189},{date:new Date("2/18/2015"),value:.090189},{date:new Date("2/25/2015"),value:.090189},{date:new Date("3/04/2015"),value:.090189},{date:new Date("3/11/2015"),value:.090189},{date:new Date("3/18/2015"),value:.090189},{date:new Date("3/25/2015"),value:.090189},{date:new Date("4/01/2015"),value:.090189},{date:new Date("4/08/2015"),value:.090189},{date:new Date("4/15/2015"),value:.090189},{date:new Date("4/22/2015"),value:.090189},{date:new Date("4/29/2015"),value:.090189},{date:new Date("5/06/2015"),value:.090189},{date:new Date("5/13/2015"),value:.090189},{date:new Date("5/20/2015"),value:.090189},{date:new Date("5/27/2015"),value:.090189},{date:new Date("6/03/2015"),value:.090189},{date:new Date("6/10/2015"),value:.090189},{date:new Date("6/17/2015"),value:.090189},{date:new Date("6/24/2015"),value:.090189},{date:new Date("7/01/2015"),value:.090189},{date:new Date("7/08/2015"),value:.090189},{date:new Date("7/15/2015"),value:.090189},{date:new Date("7/22/2015"),value:.090189},{date:new Date("7/29/2015"),value:.090189},{date:new Date("8/05/2015"),value:.090189},{date:new Date("8/12/2015"),value:.090189},{date:new Date("8/19/2015"),value:.090189},{date:new Date("8/26/2015"),value:.090189},{date:new Date("9/02/2015"),value:.090189},{date:new Date("9/09/2015"),value:.090189},{date:new Date("9/16/2015"),value:.090189},{date:new Date("9/23/2015"),value:.090189},{date:new Date("9/30/2015"),value:.090189},{date:new Date("10/07/2015"),value:.090189},{date:new Date("10/14/2015"),value:.090189},{date:new Date("10/21/2015"),value:.090189},{date:new Date("10/28/2015"),value:.090189},{date:new Date("11/04/2015"),value:.090189},{date:new Date("11/11/2015"),value:.090189},{date:new Date("11/18/2015"),value:.090189},{date:new Date("11/25/2015"),value:.090189},{date:new Date("12/02/2015"),value:.090189},{date:new Date("12/09/2015"),value:.090189},{date:new Date("12/16/2015"),value:.090189},{date:new Date("12/23/2015"),value:.090189},{date:new Date("12/30/2015"),value:.090189},{date:new Date("1/06/2016"),value:.090189},{date:new Date("1/13/2016"),value:.090189},{date:new Date("1/20/2016"),value:.090189},{date:new Date("1/27/2016"),value:.090189},{date:new Date("2/03/2016"),value:.090189},{date:new Date("2/10/2016"),value:.090189},{date:new Date("2/17/2016"),value:.090189},{date:new Date("2/24/2016"),value:.090189},{date:new Date("3/02/2016"),value:.090189},{date:new Date("3/09/2016"),value:.090189},{date:new Date("3/16/2016"),value:.090189},{date:new Date("3/23/2016"),value:.090189},{date:new Date("3/30/2016"),value:.090189},{date:new Date("4/6/2016"),value:.090189},{date:new Date("4/13/2016"),value:.090189},{date:new Date("4/20/2016"),value:.090189},{date:new Date("4/27/2016"),value:.090189},{date:new Date("5/04/2016"),value:.090189},{date:new Date("5/11/2016"),value:.090189},{date:new Date("5/18/2016"),value:.090189},{date:new Date("5/25/2016"),value:.090189},{date:new Date("6/01/2016"),value:.090189},{date:new Date("6/08/2016"),value:.090189},{date:new Date("6/15/2016"),value:.090189},{date:new Date("6/22/2016"),value:.090189},{date:new Date("6/29/2016"),value:.090189},{date:new Date("7/06/2016"),value:.090189},{date:new Date("7/13/2016"),value:.090189},{date:new Date("7/20/2016"),value:.090189},{date:new Date("7/27/2016"),value:.090189},{date:new Date("8/03/2016"),value:.090189},{date:new Date("8/10/2016"),value:.090189},{date:new Date("8/17/2016"),value:.090189},{date:new Date("8/24/2016"),value:.090189},{date:new Date("8/31/2016"),value:.090189}],months:[{date:new Date("12/30/05"),value:1.348},{date:new Date("01/31/06"),value:.583},{date:new Date("02/28/06"),value:.501},{date:new Date("03/29/06"),value:.175},{date:new Date("04/29/06"),value:.753},{date:new Date("05/31/06"),value:.583},{date:new Date("06/30/06"),value:1.027},{date:new Date("07/30/06"),value:1.03},{date:new Date("08/30/06"),value:1.348}],"many-months":[{date:new Date("12/30/05"),value:1.348},{date:new Date("01/30/06"),value:.583},{date:new Date("02/28/06"),value:.501},{date:new Date("03/29/06"),value:.175},{date:new Date("04/29/06"),value:.753},{date:new Date("05/30/06"),value:.583},{date:new Date("06/30/06"),value:1.027},{date:new Date("07/30/06"),value:1.03},{date:new Date("08/30/06"),value:1.348},{date:new Date("09/30/06"),value:1.348},{date:new Date("10/30/06"),value:.583},{date:new Date("11/30/06"),value:.583},{date:new Date("12/30/06"),value:.501},{date:new Date("01/29/07"),value:.175},{date:new Date("02/29/07"),value:.175},{date:new Date("03/29/07"),value:.175},{date:new Date("04/29/07"),value:.753},{date:new Date("05/30/07"),value:.583},{date:new Date("06/30/07"),value:1.027},{date:new Date("07/30/07"),value:1.03},{date:new Date("08/30/07"),value:1.348},{date:new Date("09/30/07"),value:1.348},{date:new Date("10/30/07"),value:.583},{date:new Date("11/30/07"),value:.583}],quarters:[{date:new Date("3/31/05"),value:.583},{date:new Date("6/30/05"),value:1.027},{date:new Date("9/30/05"),value:1.03},{date:new Date("12/30/05"),value:1.348},{date:new Date("01/30/06"),value:1.348}],"many-quarters":[{date:new Date("3/31/05"),value:.583},{date:new Date("6/30/05"),value:1.027},{date:new Date("9/30/05"),value:1.03},{date:new Date("12/30/05"),value:1.348},{date:new Date("3/31/06"),value:.583},{date:new Date("6/30/06"),value:1.027},{date:new Date("9/30/06"),value:1.03},{date:new Date("12/30/06"),value:1.348},{date:new Date("3/31/07"),value:.583},{date:new Date("6/30/07"),value:1.027},{date:new Date("9/30/07"),value:1.03},{date:new Date("12/30/07"),value:1.348},{date:new Date("3/31/08"),value:.583},{date:new Date("6/30/08"),value:1.027},{date:new Date("9/30/08"),value:1.03},{date:new Date("12/30/08"),value:1.348},{date:new Date("3/31/09"),value:.583},{date:new Date("6/30/09"),value:1.027},{date:new Date("9/30/09"),value:1.03},{date:new Date("12/30/09"),value:1.348},{date:new Date("3/31/10"),value:.583},{date:new Date("6/30/10"),value:1.027},{date:new Date("9/30/10"),value:1.03},{date:new Date("12/30/10"),value:1.348}],years:[{date:new Date("6/30/05"),value:1.027},{date:new Date("6/30/06"),value:1.03},{date:new Date("6/30/07"),value:1.348},{date:new Date("6/31/08"),value:.583},{date:new Date("6/30/09"),value:.501},{date:new Date("6/29/10"),value:.175},{date:new Date("6/29/11"),value:.753},{date:new Date("6/30/12"),value:.763},{date:new Date("6/29/13"),value:.601},{date:new Date("6/28/14"),value:.843},{date:new Date("6/31/15"),value:.468}],"many-years":[{date:new Date("6/30/98"),value:1.027},{date:new Date("6/30/99"),value:1.027},{date:new Date("6/30/00"),value:1.027},{date:new Date("6/30/01"),value:1.027},{date:new Date("6/30/02"),value:1.027},{date:new Date("6/30/03"),value:1.027},{date:new Date("6/30/04"),value:1.027},{date:new Date("6/30/05"),value:1.027},{date:new Date("6/30/06"),value:1.03},{date:new Date("6/30/07"),value:1.348},{date:new Date("6/31/08"),value:.583},{date:new Date("6/30/09"),value:.501},{date:new Date("6/29/10"),value:.175},{date:new Date("6/29/11"),value:.753},{date:new Date("6/30/12"),value:.763},{date:new Date("6/29/13"),value:.601},{date:new Date("6/28/14"),value:.843},{date:new Date("6/31/15"),value:.468},{date:new Date("6/31/16"),value:.313},{date:new Date("6/30/17"),value:-.231},{date:new Date("6/30/18"),value:-1.664},{date:new Date("6/31/19"),value:-2.229},{date:new Date("6/31/20"),value:-1.79},{date:new Date("6/30/21"),value:-.261},{date:new Date("6/30/22"),value:.2},{date:new Date("6/31/23"),value:.389},{date:new Date("6/31/24"),value:.509},{date:new Date("6/30/25"),value:.977},{date:new Date("9/30/26"),value:.647}],categories:[{key:"red",value:.583},{key:"blue",value:1.027},{key:"green",value:1.03},{key:"purple",value:1.348},{key:"pink",value:1.348}],manyCategories:[{key:"red",value:.583},{key:"blue",value:1.027},{key:"green",value:1.03},{key:"purple",value:1.348},{key:"pink",value:1.348},{key:"colour",value:1.348},{key:"magenta",value:1.348},{key:"dove white",value:1.348},{key:"white",value:1.348},{key:"black",value:1.348}]},units={days:["daily","monthly","yearly"],"many-weeks":["daily","monthly","yearly"],weeks:["weekly","monthly","yearly"],"many-weeks":["weekly","monthly","yearly"],months:["monthly","yearly"],"many-months":["monthly","yearly"],"many-many-months":["monthly","yearly"],quarters:["quarterly","yearly"],"many-quarters":["quarterly","yearly"],years:["years"],"many-years":["years"]},xSeriesData={categories:{key:"key",label:"Colours"},manyCategories:{key:"key",label:"Colours"}},nesting={days:function(e){return d3.time.format("%d %b %Y")(e.date)},"many-days":function(e){return d3.time.format("%d %b %Y")(e.date)},weeks:function(e){return d3.time.format("%W %b %Y")(e.date)},"many-weeks":function(e){return d3.time.format("%W %b %Y")(e.date)},quarters:function(e){return"Q"+Math.floor((e.date.getMonth()+3)/3)+" "+(e.date.getYear()+1900)},"many-quarters":function(e){return"Q"+Math.floor((e.date.getMonth()+3)/3)+" "+(e.date.getYear()+1900)},months:function(e){return d3.time.format("%b %Y")(e.date)},"many-months":function(e){return d3.time.format("%b %Y")(e.date)},"many-many-months":function(e){return d3.time.format("%b %Y")(e.date)},years:function(e){return d3.time.format("%Y")(e.date)},"many-years":function(e){return d3.time.format("%Y")(e.date)}};module.exports={fixtures:fixtures,init:function(){var e=["days","many-days","weeks","many-weeks","months","many-months","quarters","many-quarters","years","many-years","categories","manyCategories"];e.forEach(function(e){var a=nesting[e]?d3.nest().key(nesting[e]).entries(fixtures[e]):fixtures[e],t={title:"Grouped Date Series: "+e,x:{series:xSeriesData[e]||{key:"date",label:"year"}},y:{series:["value"]},data:a,dataType:["categories","manyCategories"].indexOf(e)>-1?"categorical":"time",scale:d3.scale.ordinal().rangeRoundBands([0,400],0,0).domain(a.map(function(e){return e.key})),units:units[e]};d3.select("#views").append("div").attr("id","column-chart__"+e).data([t]).append("h2").text(function(e){return e.title}),t.orient="bottom",drawDemo(e)})}};