function drawDemo(e){d3.select("#column-chart__"+e).append("svg").attr("width",function(e){var a=margin.left+margin.right;if("bottom"==e.orient){var t=e.scale.range();a+=t[t.length-1]-t[0]}return a}).attr("height",function(e){var a=margin.top+margin.bottom;if("left"==e.orient){var t=e.scale.range();a+=t[0]+t[t.length-1]}return a}).each(function(e,a){var t=oCharts.axis.category().dataType(e.dataType).orient(e.orient).scale(e.scale,e.units);d3.select(this).append("g").attr("transform","translate("+margin.left+","+margin.top+")").call(t)})}var oCharts=require("../../src/scripts/o-charts"),dateUtils=oCharts.util.dates,d3=require("d3"),margin={top:20,left:50,bottom:40,right:75},fixtures={months:[{date:new Date("12/30/05"),value:1.348},{date:new Date("01/31/06"),value:.583},{date:new Date("02/28/06"),value:.501},{date:new Date("03/29/06"),value:.175},{date:new Date("04/29/06"),value:.753},{date:new Date("05/31/06"),value:.583},{date:new Date("06/30/06"),value:1.027},{date:new Date("07/30/06"),value:1.03},{date:new Date("08/30/06"),value:1.348}],"many-months":[{date:new Date("12/30/05"),value:1.348},{date:new Date("01/30/06"),value:.583},{date:new Date("02/28/06"),value:.501},{date:new Date("03/29/06"),value:.175},{date:new Date("04/29/06"),value:.753},{date:new Date("05/30/06"),value:.583},{date:new Date("06/30/06"),value:1.027},{date:new Date("07/30/06"),value:1.03},{date:new Date("08/30/06"),value:1.348},{date:new Date("09/30/06"),value:1.348},{date:new Date("10/30/06"),value:.583},{date:new Date("11/30/06"),value:.583},{date:new Date("12/30/06"),value:.501},{date:new Date("01/29/07"),value:.175},{date:new Date("02/29/07"),value:.175},{date:new Date("03/29/07"),value:.175},{date:new Date("04/29/07"),value:.753},{date:new Date("05/30/07"),value:.583},{date:new Date("06/30/07"),value:1.027},{date:new Date("07/30/07"),value:1.03},{date:new Date("08/30/07"),value:1.348},{date:new Date("09/30/07"),value:1.348},{date:new Date("10/30/07"),value:.583},{date:new Date("11/30/07"),value:.583}],quarters:[{date:new Date("3/31/05"),value:.583},{date:new Date("6/30/05"),value:1.027},{date:new Date("9/30/05"),value:1.03},{date:new Date("12/30/05"),value:1.348},{date:new Date("01/30/06"),value:1.348}],"many-quarters":[{date:new Date("3/31/05"),value:.583},{date:new Date("6/30/05"),value:1.027},{date:new Date("9/30/05"),value:1.03},{date:new Date("12/30/05"),value:1.348},{date:new Date("3/31/06"),value:.583},{date:new Date("6/30/06"),value:1.027},{date:new Date("9/30/06"),value:1.03},{date:new Date("12/30/06"),value:1.348},{date:new Date("3/31/07"),value:.583},{date:new Date("6/30/07"),value:1.027},{date:new Date("9/30/07"),value:1.03},{date:new Date("12/30/07"),value:1.348},{date:new Date("3/31/08"),value:.583},{date:new Date("6/30/08"),value:1.027},{date:new Date("9/30/08"),value:1.03},{date:new Date("12/30/08"),value:1.348},{date:new Date("3/31/09"),value:.583},{date:new Date("6/30/09"),value:1.027},{date:new Date("9/30/09"),value:1.03},{date:new Date("12/30/09"),value:1.348},{date:new Date("3/31/10"),value:.583},{date:new Date("6/30/10"),value:1.027},{date:new Date("9/30/10"),value:1.03},{date:new Date("12/30/10"),value:1.348}],years:[{date:new Date("6/30/05"),value:1.027},{date:new Date("6/30/06"),value:1.03},{date:new Date("6/30/07"),value:1.348},{date:new Date("6/31/08"),value:.583},{date:new Date("6/30/09"),value:.501},{date:new Date("6/29/10"),value:.175},{date:new Date("6/29/11"),value:.753},{date:new Date("6/30/12"),value:.763},{date:new Date("6/29/13"),value:.601},{date:new Date("6/28/14"),value:.843},{date:new Date("6/31/15"),value:.468}],"many-years":[{date:new Date("6/30/98"),value:1.027},{date:new Date("6/30/99"),value:1.027},{date:new Date("6/30/00"),value:1.027},{date:new Date("6/30/01"),value:1.027},{date:new Date("6/30/02"),value:1.027},{date:new Date("6/30/03"),value:1.027},{date:new Date("6/30/04"),value:1.027},{date:new Date("6/30/05"),value:1.027},{date:new Date("6/30/06"),value:1.03},{date:new Date("6/30/07"),value:1.348},{date:new Date("6/31/08"),value:.583},{date:new Date("6/30/09"),value:.501},{date:new Date("6/29/10"),value:.175},{date:new Date("6/29/11"),value:.753},{date:new Date("6/30/12"),value:.763},{date:new Date("6/29/13"),value:.601},{date:new Date("6/28/14"),value:.843},{date:new Date("6/31/15"),value:.468},{date:new Date("6/31/16"),value:.313},{date:new Date("6/30/17"),value:-.231},{date:new Date("6/30/18"),value:-1.664},{date:new Date("6/31/19"),value:-2.229},{date:new Date("6/31/20"),value:-1.79},{date:new Date("6/30/21"),value:-.261},{date:new Date("6/30/22"),value:.2},{date:new Date("6/31/23"),value:.389},{date:new Date("6/31/24"),value:.509},{date:new Date("6/30/25"),value:.977},{date:new Date("9/30/26"),value:.647}],categories:[{key:"red",value:.583},{key:"blue",value:1.027},{key:"green",value:1.03},{key:"purple",value:1.348},{key:"pink",value:1.348}],manyCategories:[{key:"red",value:.583},{key:"blue",value:1.027},{key:"green",value:1.03},{key:"purple",value:1.348},{key:"pink",value:1.348},{key:"colour",value:1.348},{key:"magenta",value:1.348},{key:"dove white",value:1.348},{key:"white",value:1.348},{key:"black",value:1.348}]},units={months:["monthly","yearly"],"many-months":["monthly","yearly"],"many-many-months":["monthly","yearly"],quarters:["quarterly","yearly"],"many-quarters":["quarterly","yearly"],years:["years"],"many-years":["years"]},xSeriesData={categories:{key:"key",label:"Colours"},manyCategories:{key:"key",label:"Colours"}},nesting={quarters:function(e){return"Q"+Math.floor((e.date.getMonth()+3)/3)+" "+(e.date.getYear()+1900)},"many-quarters":function(e){return"Q"+Math.floor((e.date.getMonth()+3)/3)+" "+(e.date.getYear()+1900)},months:function(e){return d3.time.format("%b")(e.date)+" "+(e.date.getYear()+1900)},"many-months":function(e){return d3.time.format("%b")(e.date)+" "+(e.date.getYear()+1900)},"many-many-months":function(e){return d3.time.format("%b")(e.date)+" "+(e.date.getYear()+1900)},years:function(e){return e.date.getYear()+1900},"many-years":function(e){return e.date.getYear()+1900}};module.exports={init:function(){var e=["months","many-months","quarters","many-quarters","years","many-years","categories","manyCategories"];e.forEach(function(e){var a=nesting[e]?d3.nest().key(nesting[e]).entries(fixtures[e]):fixtures[e],t={title:"Grouped Date Series: "+e,x:{series:xSeriesData[e]||{key:"date",label:"year"}},y:{series:["value"]},data:a,dataType:["categories","manyCategories"].indexOf(e)>-1?"categorical":"time",scale:d3.scale.ordinal().rangeRoundBands([0,400],0,0).domain(a.map(function(e){return e.key})),units:units[e]};d3.select("#views").append("div").attr("id","column-chart__"+e).data([t]).append("h2").text(function(e){return e.title}),t.orient="bottom",drawDemo(e)})}};