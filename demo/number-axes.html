<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<link rel="stylesheet" href="styles/main.css" />
<link rel="stylesheet" href="styles/demo.css" />
<title>Number Axes</title>
</head>
<body class="ft">
<style>
    .axis-test{
        float: left;
        margin-right:30px;
    }
</style>
<h1>Number axes</h1>
<div id="views">
</div>
<script src="scripts/vendor.js"></script>
<script src="scripts/o-charts.js"></script>
<script>

    var oCharts = require('o-charts');
    var d3 = require('d3');

    var margin = {
        top:20, left:50, bottom:70, right:50
    }
    var axesDefinitions = [
        {
            title:'6 or less',
            simple:false,
            scale:d3.scale.linear()
                    .range([0, 200])
                    .domain([11.2, 7])
        },
        {
            title:'more than 6',
            simple:false,
            scale:d3.scale.linear()
                    .range([0, 200])
                    .domain([356, 0])
        },
        {
            title:'6 or less (simple)',
            simple:true,
            scale:d3.scale.linear()
                    .range([0, 200])
                    .domain([11.2, 7])
        },
        {
            title:'more than 6 (simple)',
            simple:true,
            scale:d3.scale.linear()
                    .range([0, 200])
                    .domain([356, 0])
        },
        {
            title:'6 or less',
            simple:false,
            orient:'bottom',
            scale:d3.scale.linear()
                    .range([0, 200])
                    .domain([7, 11.2])
        },
        {
            title:'6 or less (simple)',
            simple:true,
            orient:'bottom',
            scale:d3.scale.linear()
                    .range([0, 200])
                    .domain([7, 11.2])
        }];


    var divs = d3.select('#views')
            .selectAll('div')
            .data(axesDefinitions)
            .enter().append('div')
            .attr('class','axis-test');

    divs.append('h2')
            .text(function(d){ return d.title });

    divs.append('svg')
            .attr('width', function(d) {
                if (d.orient){
                    var r = d.scale.range();
                    return r[0] + r[1] + margin.bottom
                }
                return margin.left + margin.right
            })
            .attr('class','ft-chart')
            .attr('height', function(d){
                if (d.orient){
                    return margin.bottom
                }
                var r = d.scale.range();
                return r[0] + r[1] + margin.bottom
            })
            .each(function(d,i){
//                var formatxAxis = d3.format('.0f');
                //create the axis, giving it a scale
                var axis = oCharts.axis.number()
                    .simple(d.simple)
//                    .tickFormat(formatxAxis)
                    .scale(d.scale);
                if (d.orient){
                    axis.orient(d.orient);
                }

                d3.select(this)
                    .append('g')
                    .attr('transform','translate(' + margin.left + ',' + margin.top + ')')
                    .call(axis);
            });

    oCharts.util.attributeStyler();

</script>
</body>
</html>
